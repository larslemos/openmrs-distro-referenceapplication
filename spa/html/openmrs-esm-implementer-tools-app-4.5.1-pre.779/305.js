"use strict";(globalThis.webpackChunk_openmrs_esm_implementer_tools_app=globalThis.webpackChunk_openmrs_esm_implementer_tools_app||[]).push([[305],{8305:(t,n,r)=>{r.r(n),r.d(n,{default:()=>nt});var e=r(5776),o=r.n(e),u=r(8600),i=r(4610),a=r(1004),c=r(7693);const l=function(t){return t!=t},s=function(t,n){return!(null==t||!t.length)&&function(t,n,r){return n==n?function(t,n,r){for(var e=r-1,o=t.length;++e<o;)if(t[e]===n)return e;return-1}(t,n,r):function(t,n,r,e){for(var o=t.length,u=r+(e?1:-1);e?u--:++u<o;)if(n(t[u],u,t))return u;return-1}(t,l,r)}(t,n,0)>-1},f=function(t,n,r){for(var e=-1,o=null==t?0:t.length;++e<o;)if(r(n,t[e]))return!0;return!1};var p=r(2363),d=r(7133),h=r(2248);var v=r(4895),y=r(7851),b=r(4996),_=r(6575),m=y.Z?y.Z.isConcatSpreadable:void 0;const g=function(t){return(0,_.Z)(t)||(0,b.Z)(t)||!!(m&&t&&t[m])},Z=function t(n,r,e,o,u){var i=-1,a=n.length;for(e||(e=g),u||(u=[]);++i<a;){var c=n[i];r>0&&e(c)?r>1?t(c,r-1,e,o,u):(0,v.Z)(u,c):o||(u[u.length]=c)}return u};var w=r(1116);const j=function(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)};var S=Math.max;var O=r(6684);const A=O.Z?function(t,n){return(0,O.Z)(t,"toString",{configurable:!0,enumerable:!1,value:(r=n,function(){return r}),writable:!0});var r}:w.Z;var k=Date.now;const E=(I=A,z=0,T=0,function(){var t=k(),n=16-(t-T);if(T=t,n>0){if(++z>=800)return arguments[0]}else z=0;return I.apply(void 0,arguments)});var I,z,T;var x=r(6905),P=r(4897);const M=function(t){return(0,P.Z)(t)&&(0,x.Z)(t)},F=function(t,n){return E(function(t,n,r){return n=S(void 0===n?t.length-1:n,0),function(){for(var e=arguments,o=-1,u=S(e.length-n,0),i=Array(u);++o<u;)i[o]=e[n+o];o=-1;for(var a=Array(n+1);++o<n;)a[o]=e[o];return a[n]=r(i),j(t,this,a)}}(t,n,w.Z),t+"")}((function(t,n){return M(t)?function(t,n,r,e){var o=-1,u=s,i=!0,a=t.length,l=[],v=n.length;if(!a)return l;r&&(n=(0,p.Z)(n,(0,d.Z)(r))),e?(u=f,i=!1):n.length>=200&&(u=h.Z,i=!1,n=new c.Z(n));t:for(;++o<a;){var y=t[o],b=null==r?y:r(y);if(y=e||0!==y?y:0,i&&b==b){for(var _=v;_--;)if(n[_]===b)continue t;l.push(y)}else u(n,b,e)||l.push(y)}return l}(t,Z(n,1,M,!0)):[]}));function $(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function C(t,n,r,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return void r(t)}a.done?n(c):Promise.resolve(c).then(e,o)}function D(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var u=t.apply(n,r);function i(t){C(u,e,o,i,a,"next",t)}function a(t){C(u,e,o,i,a,"throw",t)}i(void 0)}))}}function U(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return $(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V,N=function(t,n){var r,e,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,e&&(o=2&u[0]?e.return:u[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,u[1])).done)return o;switch(e=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,e=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(t,i)}catch(t){u=[6,t],e=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};function G(){return q.apply(this,arguments)}function q(){return(q=D((function(){var t;return N(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,R()];case 1:return[2,n.sent().data.results];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2,[]]}}))}))).apply(this,arguments)}function B(t,n){var r,e=[],o=function(t,n){var r=Object.keys(t),e=n.map((function(t){return t.uuid}));return F(r,e).map((function(n){return{uuid:n,version:t[n]}}))}(t.backendDependencies,n),u=function(t,n){return Object.keys(t).map((function(n){return{uuid:n,version:t[n]}})).filter((function(t){return n.find((function(n){return t.uuid===n.uuid}))}))}(t.backendDependencies,n);return(r=e).push.apply(r,U(o.map((function(t){return{name:t.uuid,requiredVersion:t.version,type:"missing"}}))).concat(U(u.map((function(t){var r=t.version,e=function(t,n){var r,e,o=t.uuid;return null!==(e=null===(r=n.find((function(t){return t.uuid==o})))||void 0===r?void 0:r.version)&&void 0!==e?e:""}(t,n);return{name:t.uuid,requiredVersion:r,installedVersion:e,type:H(r,e)}}))))),{name:t.moduleName,dependencies:e}}function R(){return(0,i.openmrsFetch)("/ws/rest/v1/module?v=custom:(uuid,version)",{method:"GET"})}function H(t,n){return(0,i.isVersionSatisfied)(t,n)?"okay":"version-mismatch"}function X(){return(X=D((function(){var t,n,r;return N(this,(function(e){switch(e.label){case 0:return V?[3,2]:(n=(null!==(t=window.installedModules)&&void 0!==t?t:[]).filter((function(t){return t[1].backendDependencies})).map((function(t){return{backendDependencies:t[1].backendDependencies,moduleName:t[0]}})),[4,G()]);case 1:r=e.sent(),V=n.map((function(t){return B(t,r)})),e.label=2;case 2:return[2,V]}}))}))).apply(this,arguments)}function J(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function K(){var t,n,r=(t=(0,e.useState)([]),n=2,function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,u=[],i=!0,a=!1;try{for(r=r.call(t);!(i=(e=r.next()).done)&&(u.push(e.value),!n||u.length!==n);i=!0);}catch(t){a=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return u}}(t,n)||function(t,n){if(t){if("string"==typeof t)return J(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],u=r[1];return(0,e.useEffect)((function(){(function(){return X.apply(this,arguments)})().then(u)}),[]),o}var L=r(2680);function Q(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var W=o().lazy((function(){return Promise.all([r.e(369),r.e(139),r.e(478),r.e(696)]).then(r.bind(r,6696))})),Y=o().lazy((function(){return Promise.all([r.e(478),r.e(587)]).then(r.bind(r,587))}));function tt(){var t,n,r=(0,e.useMemo)((function(){var t;return(null!==(t=window.installedModules)&&void 0!==t?t:[]).filter((function(t){return Boolean(t)&&Boolean(t[1])})).map((function(t){return{version:t[1].version,name:t[0]}}))}),[window.installedModules]),c=K(),l=(t=(0,e.useState)(!1),n=2,function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,u=[],i=!0,a=!1;try{for(r=r.call(t);!(i=(e=r.next()).done)&&(u.push(e.value),!n||u.length!==n);i=!0);}catch(t){a=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return u}}(t,n)||function(t,n){if(t){if("string"==typeof t)return Q(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],f=l[1],p=(0,L.useTranslation)().t;(0,e.useEffect)((function(){f((function(t){return t||function(t){return t.some((function(t){return t.dependencies.some((function(t){return"okay"!==t.type}))}))}(c)}))}),[c]),(0,e.useEffect)((function(){s&&(0,i.showNotification)({description:"Found modules with unresolved backend dependencies.",action:o().createElement(u.xho,{onClick:a.XE},p("view","View")),kind:"error"})}),[p,s]);var d=(0,i.useStore)(a.wT),h=d.isOpen,v=d.isUIEditorEnabled,y=d.openTabIndex;return o().createElement(o().Fragment,null,h?o().createElement(W,{close:a.zI,frontendModules:r,backendDependencies:c,visibleTabIndex:y}):null,v?o().createElement(Y,null):null)}function nt(){return o().createElement(i.UserHasAccess,{privilege:"coreapps.systemAdministration"},o().createElement(tt,null))}},7487:(t,n,r)=>{r.d(n,{Z:()=>a});var e=r(8670);const o=function(t,n){for(var r=t.length;r--;)if((0,e.Z)(t[r][0],n))return r;return-1};var u=Array.prototype.splice;function i(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}i.prototype.clear=function(){this.__data__=[],this.size=0},i.prototype.delete=function(t){var n=this.__data__,r=o(n,t);return!(r<0||(r==n.length-1?n.pop():u.call(n,r,1),--this.size,0))},i.prototype.get=function(t){var n=this.__data__,r=o(n,t);return r<0?void 0:n[r][1]},i.prototype.has=function(t){return o(this.__data__,t)>-1},i.prototype.set=function(t,n){var r=this.__data__,e=o(r,t);return e<0?(++this.size,r.push([t,n])):r[e][1]=n,this};const a=i},6763:(t,n,r)=>{r.d(n,{Z:()=>u});var e=r(5441),o=r(658);const u=(0,e.Z)(o.Z,"Map")},6776:(t,n,r)=>{r.d(n,{Z:()=>p});const e=(0,r(5441).Z)(Object,"create");var o=Object.prototype.hasOwnProperty;var u=Object.prototype.hasOwnProperty;function i(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}i.prototype.clear=function(){this.__data__=e?e(null):{},this.size=0},i.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},i.prototype.get=function(t){var n=this.__data__;if(e){var r=n[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(n,t)?n[t]:void 0},i.prototype.has=function(t){var n=this.__data__;return e?void 0!==n[t]:u.call(n,t)},i.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this};const a=i;var c=r(7487),l=r(6763);const s=function(t,n){var r,e,o=t.__data__;return("string"==(e=typeof(r=n))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?o["string"==typeof n?"string":"hash"]:o.map};function f(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}f.prototype.clear=function(){this.size=0,this.__data__={hash:new a,map:new(l.Z||c.Z),string:new a}},f.prototype.delete=function(t){var n=s(this,t).delete(t);return this.size-=n?1:0,n},f.prototype.get=function(t){return s(this,t).get(t)},f.prototype.has=function(t){return s(this,t).has(t)},f.prototype.set=function(t,n){var r=s(this,t),e=r.size;return r.set(t,n),this.size+=r.size==e?0:1,this};const p=f},7693:(t,n,r)=>{r.d(n,{Z:()=>u});var e=r(6776);function o(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e.Z;++n<r;)this.add(t[n])}o.prototype.add=o.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},o.prototype.has=function(t){return this.__data__.has(t)};const u=o},7851:(t,n,r)=>{r.d(n,{Z:()=>e});const e=r(658).Z.Symbol},2363:(t,n,r)=>{r.d(n,{Z:()=>e});const e=function(t,n){for(var r=-1,e=null==t?0:t.length,o=Array(e);++r<e;)o[r]=n(t[r],r,t);return o}},4895:(t,n,r)=>{r.d(n,{Z:()=>e});const e=function(t,n){for(var r=-1,e=n.length,o=t.length;++r<e;)t[o+r]=n[r];return t}},1258:(t,n,r)=>{r.d(n,{Z:()=>s});var e=r(7851),o=Object.prototype,u=o.hasOwnProperty,i=o.toString,a=e.Z?e.Z.toStringTag:void 0;var c=Object.prototype.toString;var l=e.Z?e.Z.toStringTag:void 0;const s=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":l&&l in Object(t)?function(t){var n=u.call(t,a),r=t[a];try{t[a]=void 0;var e=!0}catch(t){}var o=i.call(t);return e&&(n?t[a]=r:delete t[a]),o}(t):function(t){return c.call(t)}(t)}},7133:(t,n,r)=>{r.d(n,{Z:()=>e});const e=function(t){return function(n){return t(n)}}},2248:(t,n,r)=>{r.d(n,{Z:()=>e});const e=function(t,n){return t.has(n)}},6684:(t,n,r)=>{r.d(n,{Z:()=>o});var e=r(5441);const o=function(){try{var t=(0,e.Z)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}()},5852:(t,n,r)=>{r.d(n,{Z:()=>e});const e="object"==typeof global&&global&&global.Object===Object&&global},5441:(t,n,r)=>{r.d(n,{Z:()=>y});var e=r(3200);const o=r(658).Z["__core-js_shared__"];var u,i=(u=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";var a=r(7275),c=r(9441),l=/^\[object .+?Constructor\]$/,s=Function.prototype,f=Object.prototype,p=s.toString,d=f.hasOwnProperty,h=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const v=function(t){return!(!(0,a.Z)(t)||(n=t,i&&i in n))&&((0,e.Z)(t)?h:l).test((0,c.Z)(t));var n},y=function(t,n){var r=function(t,n){return null==t?void 0:t[n]}(t,n);return v(r)?r:void 0}},658:(t,n,r)=>{r.d(n,{Z:()=>u});var e=r(5852),o="object"==typeof self&&self&&self.Object===Object&&self;const u=e.Z||o||Function("return this")()},9441:(t,n,r)=>{r.d(n,{Z:()=>o});var e=Function.prototype.toString;const o=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},8670:(t,n,r)=>{r.d(n,{Z:()=>e});const e=function(t,n){return t===n||t!=t&&n!=n}},1116:(t,n,r)=>{r.d(n,{Z:()=>e});const e=function(t){return t}},4996:(t,n,r)=>{r.d(n,{Z:()=>l});var e=r(1258),o=r(4897);const u=function(t){return(0,o.Z)(t)&&"[object Arguments]"==(0,e.Z)(t)};var i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable;const l=u(function(){return arguments}())?u:function(t){return(0,o.Z)(t)&&a.call(t,"callee")&&!c.call(t,"callee")}},6575:(t,n,r)=>{r.d(n,{Z:()=>e});const e=Array.isArray},6905:(t,n,r)=>{r.d(n,{Z:()=>u});var e=r(3200),o=r(3492);const u=function(t){return null!=t&&(0,o.Z)(t.length)&&!(0,e.Z)(t)}},3200:(t,n,r)=>{r.d(n,{Z:()=>u});var e=r(1258),o=r(7275);const u=function(t){if(!(0,o.Z)(t))return!1;var n=(0,e.Z)(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},3492:(t,n,r)=>{r.d(n,{Z:()=>e});const e=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},7275:(t,n,r)=>{r.d(n,{Z:()=>e});const e=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},4897:(t,n,r)=>{r.d(n,{Z:()=>e});const e=function(t){return null!=t&&"object"==typeof t}}}]);