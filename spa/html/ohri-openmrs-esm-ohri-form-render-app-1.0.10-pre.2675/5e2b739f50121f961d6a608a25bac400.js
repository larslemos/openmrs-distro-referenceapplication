ace.define("ace/ext/hardwrap",["require","exports","module","ace/range","ace/editor","ace/config"],(function(e,t,n){"use strict";var r=function(e,t){for(var n=t.column||e.getOption("printMarginColumn"),r=0!=t.allowMerge,a=Math.min(t.startRow,t.endRow),s=Math.max(t.startRow,t.endRow),i=e.session;a<=s;){var l=i.getLine(a);if(l.length>n){if(g=m(l,n,5)){var c=/^\s*/.exec(l)[0];i.replace(new o(a,g.start,a,g.end),"\n"+c)}s++}else if(r&&/\S/.test(l)&&a!=s){var d=i.getLine(a+1);if(d&&/\S/.test(d)){var g,f=l.replace(/\s+$/,""),h=d.replace(/^\s+/,""),u=f+" "+h;if((g=m(u,n,5))&&g.start>f.length||u.length<n){var p=new o(a,f.length,a+1,d.length-h.length);i.replace(p," "),a--,s--}else f.length<l.length&&i.remove(new o(a,f.length,a,l.length))}}a++}function m(e,t,n){if(!(e.length<t)){var r=e.slice(0,t),a=e.slice(t),o=/^(?:(\s+)|(\S+)(\s+))/.exec(a),s=/(?:(\s+)|(\s+)(\S+))$/.exec(r),i=0,l=0;return s&&!s[2]&&(i=t-s[1].length,l=t),o&&!o[2]&&(i||(i=t),l=t+o[1].length),i?{start:i,end:l}:s&&s[2]&&s.index>n?{start:s.index,end:s.index+s[2].length}:o&&o[2]?{start:i=t+o[2].length,end:i+o[3].length}:void 0}}},a=function(e){if("insertstring"==e.command.name&&/\S/.test(e.args)){var t=e.editor,n=t.selection.cursor;if(n.column<=t.renderer.$printMarginColumn)return;var a=t.session.$undoManager.$lastDelta;r(t,{startRow:n.row,endRow:n.row,allowMerge:!1}),a!=t.session.$undoManager.$lastDelta&&t.session.markUndoGroup()}},o=e("../range").Range,s=e("../editor").Editor;e("../config").defineOptions(s.prototype,"editor",{hardWrap:{set:function(e){e?this.commands.on("afterExec",a):this.commands.off("afterExec",a)},value:!1}}),t.hardWrap=r})),ace.require(["ace/ext/hardwrap"],(function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)}));