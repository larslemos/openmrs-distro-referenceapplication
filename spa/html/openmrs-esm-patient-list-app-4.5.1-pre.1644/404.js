(globalThis.webpackChunk_openmrs_esm_patient_list_app=globalThis.webpackChunk_openmrs_esm_patient_list_app||[]).push([[404],{2565:(t,e,n)=>{"use strict";n.d(e,{D_:()=>A,H3:()=>L,SA:()=>v,U6:()=>S,kN:()=>j,n_:()=>U,w5:()=>g,xj:()=>P,yn:()=>h});var r=n(906),o=n(9076);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e,n,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){a(i,r,o,c,l,"next",t)}function l(t){a(i,r,o,c,l,"throw",t)}c(void 0)}))}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){l(t,e,n[e])}))}return t}function s(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},h="/ws/rest/v1/cohortm";function d(t){return y.apply(this,arguments)}function y(){return y=c((function(t){var e,n,o=arguments;return p(this,(function(i){switch(i.label){case 0:return e=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:new AbortController,[4,(0,r.openmrsFetch)(t,{signal:n.signal,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return[2,i.sent().data]}}))})),y.apply(this,arguments)}function m(t){return b.apply(this,arguments)}function b(){return b=c((function(t){var e,n,o=arguments;return p(this,(function(i){switch(i.label){case 0:return e=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:new AbortController,[4,(0,r.openmrsFetch)(t,{signal:n.signal,method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return[2,i.sent().data]}}))})),b.apply(this,arguments)}function v(){return w.apply(this,arguments)}function w(){return w=c((function(){var t,e,n,i,a,c,l,u,s,d,y=arguments;return p(this,(function(p){switch(p.label){case 0:return t=y.length>0&&void 0!==y[0]?y[0]:{},e=y.length>1?y[1]:void 0,n=y.length>2?y[2]:void 0,i=y.length>3&&void 0!==y[3]?y[3]:new AbortController,a=[["v","custom:(uuid,name,description,display,size,attributes,cohortType)"]],void 0!==t.name&&""!==t.name&&a.push(["q",t.name]),void 0!==t.isStarred&&a.push(["attribute","starred:".concat(t.isStarred)]),t.type===o.s.USER?a.push(["cohortType",e]):t.type===o.s.SYSTEM&&a.push(["cohortType",n]),c=a.map((function(t){var e=f(t,2),n=e[0],r=e[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&"),[4,(0,r.openmrsFetch)("".concat(h,"/cohort?").concat(c),{signal:i.signal})];case 1:if(l=p.sent(),u=l.data,s=u.results,d=u.error)throw d;return[2,s.map((function(t){var e;return{id:t.uuid,display:t.name,description:t.description,type:null===(e=t.cohortType)||void 0===e?void 0:e.display,size:t.size,isStarred:!1}}))]}}))})),w.apply(this,arguments)}function g(t,e){return Promise.resolve()}function S(t){return O.apply(this,arguments)}function O(){return O=c((function(t){var e,n,o,i,a,c=arguments;return p(this,(function(l){switch(l.label){case 0:return e=c.length>1&&void 0!==c[1]?c[1]:new AbortController,[4,(0,r.openmrsFetch)("".concat(h,"/cohortmember?patient=").concat(t,"&v=default"),{signal:e.signal})];case 1:if(n=l.sent(),o=n.data,i=o.results,a=o.error)throw a;return[2,i.map((function(t){return t.cohort.uuid}))]}}))})),O.apply(this,arguments)}function P(t){return k.apply(this,arguments)}function k(){return k=c((function(t){var e,n=arguments;return p(this,(function(r){return e=n.length>1&&void 0!==n[1]?n[1]:new AbortController,[2,d("".concat(h,"/cohortmember"),t,e)]}))})),k.apply(this,arguments)}function A(t){return C.apply(this,arguments)}function C(){return C=c((function(t){var e,n=arguments;return p(this,(function(r){return e=n.length>1&&void 0!==n[1]?n[1]:new AbortController,[2,d("".concat(h,"/cohort/"),s(u({},t),{startDate:new Date,groupCohort:!1,definitionHandlerClassname:"org.openmrs.module.cohort.definition.handler.DefaultCohortDefinitionHandler"}),e)]}))})),C.apply(this,arguments)}function j(t,e){return T.apply(this,arguments)}function T(){return T=c((function(t,e){var n,r=arguments;return p(this,(function(o){return n=r.length>2&&void 0!==r[2]?r[2]:new AbortController,[2,d("".concat(h,"/cohort/").concat(t),e,n)]}))})),T.apply(this,arguments)}function U(t){return D.apply(this,arguments)}function D(){return D=c((function(t){var e,n=arguments;return p(this,(function(r){return e=n.length>1&&void 0!==n[1]?n[1]:new AbortController,[2,m("".concat(h,"/cohort/").concat(t),{voidReason:""},e)]}))})),D.apply(this,arguments)}function L(t){return _.apply(this,arguments)}function _(){return(_=c((function(t){var e,n,o,i;return p(this,(function(a){switch(a.label){case 0:e=new AbortController,a.label=1;case 1:return a.trys.push([1,3,,4]),n="".concat(h,"/cohort/").concat(t,"?"),[4,(0,r.openmrsFetch)(n,{signal:e.signal})];case 2:return[2,null==(o=a.sent().data)?void 0:o.name];case 3:return i=a.sent(),console.error("Error resolving patient list name: ",i),[3,4];case 4:return[2]}}))}))).apply(this,arguments)}},9076:(t,e,n)=>{"use strict";var r;n.d(e,{s:()=>r}),function(t){t.STARRED="Starred",t.SYSTEM="System list",t.USER="My list",t.ALL="All"}(r||(r={}))},1404:(t,e,n)=>{"use strict";n.r(e),n.d(e,{backendDependencies:()=>P,frontendDependencies:()=>k,importTranslation:()=>A,setupOpenMRS:()=>T,version:()=>O});var r=n(906),o=n(2565),i={myListCohortTypeUUID:{_type:r.Type.UUID,_description:"The UUID of the `My List` cohort type",_default:"e71857cb-33af-4f2c-86ab-7223bcfa37ad"},systemListCohortTypeUUID:{_type:r.Type.UUID,_description:"The UUID of the `My List` cohort type",_default:"eee9970e-7ca0-4e8c-a280-c33e9d5f6a04"},patientListsToShow:{_type:r.Type.Number,_description:"The UUID of the `My List` cohort type",_default:"10"}},a=n(268),c=n.n(a),l=n(8744);function u(t){var e=t.dashboardLinkConfig,n=e.name,o=e.title,i=(0,l.useLocation)(),u="".concat(window.spaBase,"/home"),s=(0,a.useMemo)((function(){var t=i.pathname.split("/home"),e=t[t.length-1];return decodeURIComponent(e)}),[i.pathname]);return c().createElement(r.ConfigurableLink,{to:"".concat(u,"/").concat(n),className:"cds--side-nav__link ".concat(s.match(n)&&"active-left-nav-link")},o)}var s,f,p,h={name:"patient-lists",slot:"patient-lists-dashboard-slot",title:"Patient lists"},d=(s={},p="network-first",(f=r.omrsOfflineCachingStrategyHttpHeaderName)in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s);function y(t,e,n,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){y(i,r,o,a,c,"next",t)}function c(t){y(i,r,o,a,c,"throw",t)}a(void 0)}))}}var b=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e,n,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){w(i,r,o,a,c,"next",t)}function c(t){w(i,r,o,a,c,"throw",t)}a(void 0)}))}}var S=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},O="4.5.1-pre.1644",P={"webservices.rest":"^2.2.0"},k={"@openmrs/esm-framework":"^4.2.1-pre.619"},A=n(3979),C="@openmrs/esm-patient-list-app",j={featureName:"patient list",moduleName:C};function T(){var t,e="".concat(window.spaBase,"/home/patient-lists");function a(){return(a=g((function(t){var e;return S(this,(function(n){switch(n.label){case 0:return[4,(0,o.H3)(t)];case 1:return[2,null!==(e=n.sent())&&void 0!==e?e:"--"]}}))}))).apply(this,arguments)}return(0,r.setupDynamicOfflineDataHandler)({id:"esm-patient-list-app:patient",type:"patient",displayName:"Patient list",isSynced:function(t){return m((function(){var e,n,o;return b(this,(function(i){switch(i.label){case 0:return e=["/ws/fhir2/R4/Patient/".concat(t)],n=e.map((function(t){return window.origin+(0,r.makeUrl)(t)})),[4,caches.open("omrs-spa-cache-v1")];case 1:return[4,i.sent().keys()];case 2:return o=i.sent().map((function(t){return t.url})),[2,n.every((function(t){return o.includes(t)}))]}}))}))()},sync:function(t){return m((function(){return b(this,(function(e){switch(e.label){case 0:return[4,(0,r.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:"/ws/fhir2/R4/Patient/".concat(t)})];case 1:return e.sent(),[4,(0,r.fetchCurrentPatient)(t,{headers:d})];case 2:return e.sent(),[2]}}))}))()}}),(0,r.defineConfigSchema)(C,i),(0,r.registerBreadcrumbs)([{title:"Patient Lists",path:e,parent:"".concat(window.spaBase,"/home")},{title:function(t){return function(t){return a.apply(this,arguments)}((e=t,n=1,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]);var e,n},path:"".concat(e,"/:patientListUuid?"),parent:e}]),{pages:[{load:(0,r.getAsyncLifecycle)((function(){return Promise.all([n.e(768),n.e(255),n.e(900),n.e(924),n.e(829)]).then(n.bind(n,4829))}),j),route:"patient-lists",online:{syncUserPropertiesChangesOnLoad:!0},offline:{syncUserPropertiesChangesOnLoad:!1}}],extensions:[{id:"patient-lists-dashboard-link",slot:"homepage-dashboard-slot",load:(0,r.getSyncLifecycle)((t=h,function(){return c().createElement(l.BrowserRouter,null,c().createElement(u,{dashboardLinkConfig:t}))}),j),meta:h,online:!0,offline:!0},{id:"patient-lists-dashboard",slot:"patient-lists-dashboard-slot",load:(0,r.getAsyncLifecycle)((function(){return Promise.all([n.e(768),n.e(255),n.e(900),n.e(924),n.e(829)]).then(n.bind(n,4829))}),j),online:!0,offline:!0},{id:"add-patient-to-patient-list-button",slot:"patient-actions-slot",load:(0,r.getAsyncLifecycle)((function(){return Promise.all([n.e(924),n.e(537)]).then(n.bind(n,3537))}),{featureName:"patient-actions-slot",moduleName:C})},{name:"patient-list-action-menu",slot:"action-menu-non-chart-items-slot",load:(0,r.getAsyncLifecycle)((function(){return Promise.all([n.e(768),n.e(924),n.e(929)]).then(n.bind(n,929))}),{featureName:"patient-list-action-menu-item",moduleName:C})},{id:"add-patient-to-patient-list-modal",load:(0,r.getAsyncLifecycle)((function(){return Promise.all([n.e(768),n.e(255),n.e(924),n.e(548)]).then(n.bind(n,2548))}),{featureName:"patient-actions-modal",moduleName:C})},{id:"patient-table",load:(0,r.getAsyncLifecycle)((function(){return Promise.all([n.e(768),n.e(250)]).then(n.bind(n,7250))}),{featureName:"patient-table",moduleName:C}),online:!0,offline:!0}]}}},3979:(t,e,n)=>{var r={"./en.json":[3574,574],"./fr.json":[2757,757],"./he.json":[5833,833],"./km.json":[7807,807]};function o(t){if(!n.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],o=e[0];return n.e(e[1]).then((()=>n(o)))}o.keys=()=>Object.keys(r),o.id=3979,t.exports=o}}]);