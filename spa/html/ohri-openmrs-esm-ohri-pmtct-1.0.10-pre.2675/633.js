"use strict";(globalThis.webpackChunk_ohri_openmrs_esm_ohri_pmtct=globalThis.webpackChunk_ohri_openmrs_esm_ohri_pmtct||[]).push([[633],{4339:(A,e,n)=>{n.d(e,{L1:()=>s,bL:()=>i,bo:()=>o,fX:()=>c,g3:()=>d,lP:()=>f,nS:()=>u});var t=n(906),r=n(4061);n(561);var a="/ws/rest/v1/";function c(A){return(0,t.openmrsFetch)("/ws/rest/v1/idgen/identifiersource/".concat(A,"/identifier"),{headers:{"Content-Type":"application/json"},method:"POST",body:{}})}function o(A){return Promise.all(A.map((function(A){return function(A){return(0,t.openmrsFetch)("/ws/rest/v1/patient",{headers:{"Content-Type":"application/json"},method:"POST",body:A})}(A)})))}function i(A){return(0,t.openmrsFetch)("/ws/rest/v1/relationship",{headers:{"Content-Type":"application/json"},method:"POST",body:A})}function u(A,e){return(0,t.openmrsFetch)("".concat(a,"reportingrest/dataSet/").concat(r.V8,"?ptracker_id=").concat(A,"&patient_uuid=").concat(e)).then((function(A){return A.data||null}))}function f(A){return(0,t.openmrsFetch)("".concat(a,"/patient/").concat(A,"/identifier")).then((function(A){var e=A.data;return e.results.length?e.results:null}))}function d(A,e){return(0,t.openmrsFetch)("".concat(a,"patient/").concat(e,"/identifier"),{headers:{"Content-Type":"application/json"},method:"POST",body:A})}function s(A,e){return(0,t.openmrsFetch)("".concat(a,"reportingrest/dataSet/").concat(r.b2,"?person_uuid=").concat(A,"&ptracker_id=").concat(e)).then((function(A){return A.data||null}))}},4061:(A,e,n)=>{n.d(e,{A:()=>C,Ah:()=>k,BV:()=>$,CX:()=>P,Cy:()=>D,Eu:()=>r,H9:()=>V,Hn:()=>w,Ke:()=>F,M$:()=>a,Me:()=>v,Qn:()=>h,Qq:()=>p,SB:()=>X,TZ:()=>d,Tn:()=>B,Tq:()=>j,Tv:()=>T,UT:()=>t,V8:()=>E,W$:()=>M,Wf:()=>c,Wp:()=>y,X:()=>O,XL:()=>s,Zu:()=>u,b2:()=>H,bD:()=>m,fe:()=>W,gZ:()=>Q,hO:()=>Z,hV:()=>g,ic:()=>x,mL:()=>L,mp:()=>b,pA:()=>S,pL:()=>i,po:()=>l,rq:()=>G,u_:()=>o,uk:()=>f,xT:()=>_,yC:()=>q});var t="51bec6f7-df43-426e-a83e-c1ae5501372f",r="1305AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",a="4da0a3fe-e546-463f-81fa-084f098ff06c",c="9d6d1eec-2cd6-4637-a981-4a46b4b8b41f",o="6c45421e-2566-47cb-bbb3-07586fffbfe2",i="2678423c-0523-4d76-b0da-18177b439eed",u="159917AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",f="1719AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",d="c5f74c86-62cd-4d22-9260-4238f1e45fe0",s="6e62bf7e-2107-4d09-b485-6e60cbbb2d08",l="1568AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",p="163260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",b="1856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",h="1c70c490-cafa-4c95-9fdd-a30b62bb78b8",v="164803AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",y="164802AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",m="af1f1b24-d2e8-4282-b308-0bf79b365584",T="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",w="163260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_="1148AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",k="a40d8bc4-56b8-4f28-a1dd-412da5cf20ed",P="1151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",g="160433AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",S="159599AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",C="2549af50-75c8-4aeb-87ca-4bb2cef6c69a",F="163260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",L="159427AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",M="164402AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",x="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",O="5596AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",j="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",V="159599AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",X="ee8c0292-47f8-4c01-8b60-8ba13a560e1a",$="6027869c-5d7e-4a82-b22f-6d9c57d61a4d",q="269bcc7f-04f8-4ddc-883d-7a3a0d569aad",W="159427AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Z="163281AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",B="1305AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",D="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",E="5299521a-7fad-47bb-8280-14c99d04c790",H="ed50a889-dd5b-4759-861c-b54e3c686fe7",Q="12de5bc5-352e-4faf-9961-a2125085a75c",G=["Antenatal","Labor and Delivery","Mother Postnatal"]},7633:(A,e,n)=>{n.r(e),n.d(e,{PTrackerSubmissionAction:()=>u,default:()=>s,updatePatientPtracker:()=>f});var t=n(4339),r=n(4061);function a(A,e,n,t,r,a,c){try{var o=A[a](c),i=o.value}catch(A){return void n(A)}o.done?e(i):Promise.resolve(i).then(t,r)}function c(A){return function(){var e=this,n=arguments;return new Promise((function(t,r){var c=A.apply(e,n);function o(A){a(c,t,r,o,i,"next",A)}function i(A){a(c,t,r,o,i,"throw",A)}o(void 0)}))}}var o,i=function(A,e){var n,t,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,t&&(r=2&a[0]?t.return:a[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,a[1])).done)return r;switch(t=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,t=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=e.call(A,c)}catch(A){a=[6,A],t=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},u={applyAction:(o=c((function(A){var e,n,t,r,a;return i(this,(function(c){return e=A.patient,n=A.encounters,t=A.sessionMode,r=n[0],a=r.location.uuid,"view"===t||f(r,a,e.id),[2]}))})),function(A){return o.apply(this,arguments)})};function f(A,e,n){return d.apply(this,arguments)}function d(){return(d=c((function(A,e,n){var a,c,o;return i(this,(function(i){switch(i.label){case 0:return(c=null===(a=A.obs.find((function(A){return A.concept.uuid===r.u_})))||void 0===a?void 0:a.value)?[4,(0,t.lP)(n)]:[2];case 1:return i.sent().filter((function(A){return A.identifierType.uuid===r.M$})).some((function(A){return A.identifier===c}))||(o={identifier:c,identifierType:r.M$,location:e,preferred:!1},(0,t.g3)(o,n)),[2]}}))}))).apply(this,arguments)}const s=u}}]);