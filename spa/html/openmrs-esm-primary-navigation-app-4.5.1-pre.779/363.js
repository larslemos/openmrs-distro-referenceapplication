(globalThis.webpackChunk_openmrs_esm_primary_navigation_app=globalThis.webpackChunk_openmrs_esm_primary_navigation_app||[]).push([[363],{6639:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>l,genericLinkConfigSchema:()=>a});var r=t(5776),o=t.n(r),i=t(4610),a={title:{_default:"New Link",_type:i.Type.String},target:{_default:"#",_type:i.Type.String,_description:"The URL to link to.",_validators:[i.validators.isUrl]}};function l(){var e=(0,i.useConfig)();return o().createElement(i.ConfigurableLink,{to:e.target},e.title)}},1217:(e,n,t)=>{"use strict";t.d(n,{O:()=>r,e:()=>o});var r="user-property-change",o="@openmrs/esm-primary-navigation-app"},2363:(e,n,t)=>{"use strict";t.r(n),t.d(n,{backendDependencies:()=>x,importTranslation:()=>P,setupOpenMRS:()=>C,version:()=>O});var r=t(4610),o=t(8478),i=t(1217);function a(e,n,t,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)}))}}var s=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function u(e,n,t){return c.apply(this,arguments)}function c(){return(c=l((function(e,n,t){return s(this,(function(r){switch(r.label){case 0:return[4,(0,o.openmrsFetch)("/ws/rest/v1/user/".concat(e),{method:"POST",body:{userProperties:n},headers:{"Content-Type":"application/json"},signal:t.signal})];case 1:return r.sent(),window.location.reload(),[2]}}))}))).apply(this,arguments)}function p(e,n){return f.apply(this,arguments)}function f(){return(f=l((function(e,n){return s(this,(function(t){switch(t.label){case 0:return[4,(0,o.openmrsFetch)("/ws/rest/v1/session",{method:"POST",body:{locale:e},headers:{"Content-Type":"application/json"},signal:n.signal})];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function y(e,n){return(0,o.queueSynchronizationItemFor)(e,i.O,n,{displayName:"User Language Change"})}var d={logo:{src:{_type:r.Type.String,_default:null,_description:"A path or URL to an image. Defaults to the OpenMRS SVG sprite."},alt:{_type:r.Type.String,_default:"Logo",_description:"Alt text, shown on hover"},name:{_type:r.Type.String,_default:null,_description:"The organization name displayed when image is absent"}},externalRefLinks:{_type:r.Type.Array,_elements:{title:{_type:r.Type.String,_description:"Title of the link"},redirect:{_type:r.Type.String,_description:"Link to redirect to (must be an external link)",_validators:[r.validators.isUrl]}},_default:[],_description:"The external links to be showcased in the app menu"}};function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function m(e,n,t,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,o)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){m(i,r,o,a,l,"next",e)}function l(e){m(i,r,o,a,l,"throw",e)}a(void 0)}))}}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||w(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){if(e){if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}var _=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function S(e,n){return k.apply(this,arguments)}function k(){return k=b((function(e,n){var t,r,i,a;return _(this,(function(e){switch(e.label){case 0:return 0!==n.index?[3,3]:[4,(0,o.getLoggedInUser)()];case 1:return r=e.sent(),i=n.items.map((function(e){var n=v(e,2);return n[0],n[1]})),a=(t=Object).assign.apply(t,[{},r.userProperties].concat(g(i))),[4,u(r.uuid,a,n.abort)];case 2:e.sent(),(0,o.refetchCurrentUser)(),e.label=3;case 3:return[2]}}))})),k.apply(this,arguments)}var T=t(3710),L=t(6639),O="4.5.1-pre.779",P=t(3979),x={"webservices.rest":"^2.2.0"},A={featureName:"primary navigation",moduleName:i.e};function C(){return(0,r.defineConfigSchema)(i.e,d),(0,r.defineExtensionConfigSchema)("link",L.genericLinkConfigSchema),(0,r.setupOfflineSync)(i.O,[],S),{pages:[{load:(0,r.getAsyncLifecycle)((function(){return Promise.all([t.e(113),t.e(414),t.e(631),t.e(680),t.e(241)]).then(t.bind(t,6241))}),A),route:function(e){return!e.pathname.startsWith(window.getOpenmrsSpaBase()+"login")},online:!0,offline:!0,order:0},{load:{bootstrap:function(){return Promise.resolve((0,T.UO)(window.getOpenmrsSpaBase()+"home"))},mount:function(){return Promise.resolve()},unmount:function(){return Promise.resolve()}},route:function(e){return e.pathname===window.getOpenmrsSpaBase()},order:0}],extensions:[{name:"default-user-panel",slot:"user-panel-slot",order:0,load:(0,r.getAsyncLifecycle)((function(){return Promise.all([t.e(113),t.e(414),t.e(716)]).then(t.bind(t,9716))}),A),online:!0,offline:!0},{name:"change-locale",slot:"user-panel-slot",order:1,load:(0,r.getAsyncLifecycle)((function(){return Promise.all([t.e(113),t.e(680),t.e(743)]).then(t.bind(t,2743))}),A),online:{postUserProperties:u,postSessionLocale:p},offline:{postUserProperties:y,postSessionLocale:function(){return Promise.resolve({})}}},{name:"link",load:(0,r.getAsyncLifecycle)((function(){return Promise.resolve().then(t.bind(t,6639))}),{featureName:"Link",moduleName:i.e})}]}}},3979:(e,n,t)=>{var r={"./en.json":[3574,574],"./fr.json":[2757,757],"./he.json":[5833,833]};function o(e){if(!t.o(r,e))return Promise.resolve().then((()=>{var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((()=>t(o)))}o.keys=()=>Object.keys(r),o.id=3979,e.exports=o}}]);