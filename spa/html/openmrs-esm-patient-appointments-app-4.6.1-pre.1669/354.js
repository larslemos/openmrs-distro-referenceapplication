(globalThis.webpackChunk_openmrs_esm_patient_appointments_app=globalThis.webpackChunk_openmrs_esm_patient_appointments_app||[]).push([[354],{8632:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(272),r=n.n(a),o=n(2609),i=n.n(o)()(r());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-appointments__appointments-form__productiveHeading02___q38RJ,.-esm-patient-appointments__appointments-form__formGroup___b4Yy3 checkbox,.-esm-patient-appointments__appointments-form__formGroup___b4Yy3 span{color:#525252;font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-esm-patient-appointments__appointments-form__formWrapper___iz2gN{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 6rem)}.omrs-breakpoint-lt-desktop .-esm-patient-appointments__appointments-form__formWrapper___iz2gN{background-color:#ededed}.omrs-breakpoint-gt-tablet .-esm-patient-appointments__appointments-form__formWrapper___iz2gN{background-color:#fff}.-esm-patient-appointments__appointments-form__formGroup___b4Yy3{display:flex;margin-bottom:.25rem;padding:1rem}.omrs-breakpoint-lt-desktop .-esm-patient-appointments__appointments-form__formGroup___b4Yy3>span{flex:1}.omrs-breakpoint-lt-desktop .-esm-patient-appointments__appointments-form__formGroup___b4Yy3>div{flex:3}.-esm-patient-appointments__appointments-form__formGroup___b4Yy3 span{margin-bottom:.5rem}.-esm-patient-appointments__appointments-form__formGroup___b4Yy3 checkbox{margin-bottom:.5rem}.-esm-patient-appointments__appointments-form__toggleLabel___oVLrC span{margin-bottom:0}.-esm-patient-appointments__appointments-form__toggleLabel___oVLrC{margin-bottom:1rem}.-esm-patient-appointments__appointments-form__inLine___ZRrcC{display:flex}.-esm-patient-appointments__appointments-form__recurringPatternType___VAMN8{margin-top:2rem;margin-left:.5rem}.-esm-patient-appointments__appointments-form__timeDuration___y89Vw{display:flex}.-esm-patient-appointments__appointments-form__duration___mO4Qq{margin-left:.2rem}.omrs-breakpoint-lt-desktop .-esm-patient-appointments__appointments-form__formGroup___b4Yy3{flex-direction:row}.omrs-breakpoint-gt-tablet .-esm-patient-appointments__appointments-form__formGroup___b4Yy3{flex-direction:column}.-esm-patient-appointments__appointments-form__button___O3yAG{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-appointments__appointments-form__loader___ttBxR{display:flex;background-color:#ededed;justify-content:center;min-height:3rem;height:100vh}.-esm-patient-appointments__appointments-form__tablet___Wc5eL{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-appointments__appointments-form__desktop___sbbCs{padding:0rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/appointments/appointments-form/appointments-form.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,2NACE,aDIc,CEi0BZ,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD/zBJ,mEACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,yBAAA,CAGF,+FACE,wBAVwB,CAa1B,8FACE,qBDtBM,CCyBR,iEACE,YAAA,CACA,oBEZW,CFaX,YEEW,CFCb,kGACE,MAAA,CAGF,iGACE,MAAA,CAGF,sEAEE,mBErBW,CFwBb,0EAEE,mBE1BW,CF6Bb,wEACE,eAAA,CAGF,mEACE,kBAAA,CAGF,8DACE,YAAA,CASF,4EACE,eAAA,CACA,iBAAA,CAGF,oEACE,YAAA,CAGF,gEACE,iBAAA,CAIF,6FACE,kBAAA,CAGF,4FACE,qBAAA,CAGF,8DACE,WAAA,CACA,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,8DACE,YAAA,CACA,wBA3FwB,CA4FxB,sBAAA,CACA,eEnDW,CFoDX,YAAA,CAGF,8DACE,mBAAA,CACA,qBD3GM,CC8GR,+DACE,YAAA",sourceRoot:""}]),i.locals={productiveHeading02:"-esm-patient-appointments__appointments-form__productiveHeading02___q38RJ",formGroup:"-esm-patient-appointments__appointments-form__formGroup___b4Yy3",formWrapper:"-esm-patient-appointments__appointments-form__formWrapper___iz2gN",toggleLabel:"-esm-patient-appointments__appointments-form__toggleLabel___oVLrC",inLine:"-esm-patient-appointments__appointments-form__inLine___ZRrcC",recurringPatternType:"-esm-patient-appointments__appointments-form__recurringPatternType___VAMN8",timeDuration:"-esm-patient-appointments__appointments-form__timeDuration___y89Vw",duration:"-esm-patient-appointments__appointments-form__duration___mO4Qq",button:"-esm-patient-appointments__appointments-form__button___O3yAG",loader:"-esm-patient-appointments__appointments-form__loader___ttBxR",tablet:"-esm-patient-appointments__appointments-form__tablet___Wc5eL",desktop:"-esm-patient-appointments__appointments-form__desktop___sbbCs"};const l=i},2609:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var m=0;m<e.length;m++){var p=[].concat(e[m]);a&&i[p[0]]||(void 0!==o&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=o),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),r&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=r):p[4]="".concat(r)),t.push(p))}},t}},272:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),o="/*# ".concat(r," */"),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([o]).join("\n")}return[t].join("\n")}},6824:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}()},354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var a=n(7900),r=n.n(a),o=n(4924),i=n(3565),l=n.n(i),s=n(7495),m=n(906),p=n(6217),u=n(6636),c="dd/mm/yyyy",d="DD/MM/YYYY",f="d/m/Y",_=[{id:"MONDAY",label:"Monday",labelCode:"monday",order:0},{id:"TUESDAY",label:"Tuesday",labelCode:"tuesday",order:1},{id:"WEDNESDAY",label:"Wednesday",labelCode:"wednesday",order:2},{id:"THURSDAY",label:"Thursday",labelCode:"thursday",order:3},{id:"FRIDAY",label:"Friday",labelCode:"friday",order:4},{id:"SATURDAY",label:"Saturday",labelCode:"saturday",order:5},{id:"SUNDAY",label:"Sunday",labelCode:"sunday",order:6}],v=n(1354),A=n.n(v),g=n(1583),b=n.n(g),h=n(7378),y=n.n(h),C=n(5993),E=n.n(C),D=n(4154),T=n.n(D),w=n(8141),S=n.n(w),k=n(8632),x={};x.styleTagTransform=S(),x.setAttributes=E(),x.insert=y().bind(null,"head"),x.domAPI=b(),x.insertStyleElement=T(),A()(k.Z,x);const F=k.Z&&k.Z.locals?k.Z.locals:void 0;function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=[{name:"Scheduled"},{name:"WalkIn"}];function L(e){var t=e.children;return e.isTablet?r().createElement(s.mh4,null,t):r().createElement("div",null,t)}const M=function(e){var t,n,i,v,A,g=e.appointment,b=e.recurringPattern,h=e.patientUuid,y=e.context,C=e.closeWorkspace,E=new Date(null==g?void 0:g.startDateTime).getHours()>=12?"PM":"AM",D=(null==g?void 0:g.startDateTime)?E:(new Date).getHours()>=12?"PM":"AM",T=(0,o.useTranslation)().t,w="tablet"===(0,m.useLayoutType)(),S=(0,m.useLocations)(),k=(0,m.useSession)(),x=(0,u.l9)(),N=x.data,M=x.isLoading,G=Y((0,a.useState)((null==g?void 0:g.comments)||""),2),P=G[0],I=G[1],W=Y((0,a.useState)((null==g?void 0:g.appointmentKind)||""),2),R=W[0],O=W[1],U=Y((0,a.useState)((null==g||null===(t=g.service)||void 0===t?void 0:t.name)||""),2),j=U[0],Z=U[1],q=Y((0,a.useState)(!1),2),z=q[0],H=q[1],V=Y((0,a.useState)((null==g?void 0:g.startDateTime)?new Date(null==g?void 0:g.startDateTime):new Date),2),Q=V[0],K=V[1],J=Y((0,a.useState)((null==g?void 0:g.startDateTime)?l()(new Date(g.startDateTime)).format(d):l()(new Date).format(d)),2),X=J[0],$=J[1],ee=Y((0,a.useState)((null==g?void 0:g.startDateTime)?l()(new Date(null==g?void 0:g.startDateTime)).format("hh:mm"):l()(new Date).format("hh:mm")),2),te=ee[0],ne=ee[1],ae=Y((0,a.useState)((null===(n=null==N?void 0:N.find((function(e){return e.name===j})))||void 0===n?void 0:n.durationMins)||15),2),re=ae[0],oe=ae[1],ie=Y((0,a.useState)(D),2),le=ie[0],se=ie[1],me=Y((0,a.useState)((null==g||null===(i=g.location)||void 0===i?void 0:i.uuid)||""),2),pe=me[0],ue=me[1],ce=Y((0,a.useState)((null==b?void 0:b.type)||"DAY"),2),de=ce[0],fe=ce[1],_e=Y((0,a.useState)((null==b?void 0:b.period)||1),2),ve=_e[0],Ae=_e[1],ge=Y((0,a.useState)((null==b?void 0:b.daysOfWeek)||[]),2),be=ge[0],he=ge[1],ye=Y((0,a.useState)((function(){return(null==be?void 0:be.length)<1?T("daysOfWeek","Days of the week"):_.filter((function(e){return be.includes(e.id)})).map((function(e){return e.label})).join(", ")})),2),Ce=ye[0],Ee=ye[1],De=Y((0,a.useState)((null==b?void 0:b.endDate)?new Date(null==b?void 0:b.endDate):null),2),Te=De[0],we=De[1],Se=Y((0,a.useState)((null==b?void 0:b.endDate)?l()(new Date(b.endDate)).format(d):""),2),ke=Se[0],xe=Se[1],Fe=Y((0,a.useState)(!1),2),Ne=Fe[0],Ye=Fe[1],Be=(0,u.zt)(h,(new Date).toUTCString(),new AbortController).mutate;!pe&&(null==k||null===(v=k.sessionLocation)||void 0===v?void 0:v.uuid)&&ue(null==k||null===(A=k.sessionLocation)||void 0===A?void 0:A.uuid);if(M)return r().createElement(s.lSo,{className:F.loader,description:"".concat(T("loading","Loading")," ..."),role:"progressbar"});var Le=function(){return r().createElement("div",{className:F.inLine},r().createElement(L,{isTablet:w},r().createElement(s.jII,{pattern:"([\\d]+:[\\d]{2})",onChange:function(e){return ne(e.target.value)},value:te,style:{marginLeft:"0.125rem",flex:"none"},labelText:T("time","Time"),id:"time-picker"},r().createElement(s.M6n,{id:"time-picker-select-1",onChange:function(e){return se(e.target.value)},value:le,"aria-label":T("time","Time")},r().createElement(s.QlF,{value:"AM",text:"AM"}),r().createElement(s.QlF,{value:"PM",text:"PM"})))),r().createElement(L,{isTablet:w},r().createElement("div",{className:F.duration},r().createElement(s.Y2U,{id:"duration",min:0,max:1440,label:T("duration","Duration"),invalidText:T("invalidNumber","Number is not valid"),helperText:"Value in minutes",size:"md",value:re,onChange:function(e,t){var n=t.value;oe(n)}}))))};return r().createElement(s.l09,{className:F.formWrapper},r().createElement(s.Kqy,{gap:4},r().createElement("section",{className:F.formGroup},r().createElement("span",null,T("location","Location")),r().createElement("div",{className:F.selectContainer},r().createElement(L,{isTablet:w},r().createElement(s.PhF,{id:"location",invalidText:"Required",labelText:T("selectLocation","Select a location"),onChange:function(e){return ue(e.target.value)},value:pe},pe?null:r().createElement(s.QlF,{text:T("chooseLocation","Choose a location"),value:""}),(null==S?void 0:S.length)>0&&S.map((function(e){return r().createElement(s.QlF,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))))),r().createElement("section",{className:F.formGroup},r().createElement("span",null,T("service","Service")),r().createElement(L,{isTablet:w},r().createElement(s.PhF,{id:"service",invalidText:"Required",labelText:T("selectService","Select a service"),onChange:function(e){return function(e){var t;Z(e),oe(null===(t=null==N?void 0:N.find((function(t){return t.name===e})))||void 0===t?void 0:t.durationMins)}(e.target.value)},value:j},j?null:r().createElement(s.QlF,{text:T("chooseService","Select service"),value:""}),(null==N?void 0:N.length)>0&&N.map((function(e){return r().createElement(s.QlF,{key:e.uuid,text:e.name,value:e.name},e.name)}))))),r().createElement("section",{className:F.formGroup},r().createElement("span",null,T("appointmentType_title","Appointment Type")),r().createElement(L,{isTablet:w},r().createElement(s.PhF,{disabled:!(null==B?void 0:B.length),id:"appointmentType",invalidText:"Required",labelText:T("selectAppointmentType","Select the type of appointment"),onChange:function(e){return O(e.target.value)},value:R},R?null:r().createElement(s.QlF,{text:T("chooseAppointmentType","Choose appointment type"),value:""}),(null==B?void 0:B.length)>0&&B.map((function(e,t){return r().createElement(s.QlF,{key:t,text:e.name,value:e.name},e.name)}))))),r().createElement("section",{className:F.formGroup},r().createElement("span",null,T("dateTime","Date & Time")),r().createElement("fieldset",null,r().createElement(s.ZDl,{className:F.toggleLabel,labelA:T("recurringAppointment","Recurring appointment"),labelB:T("recurringAppointment","Recurring appointment"),id:"recurringToggled",onClick:function(){return H(!z)}})),z?r().createElement(r().Fragment,null,r().createElement("div",{className:F.rangeDatePickerControl},r().createElement("div",{className:F.inLine},r().createElement(L,{isTablet:w},r().createElement(s.Mtg,{datePickerType:"range",light:w,dateFormat:f,onChange:function(e){var t=Y(e,2),n=t[0],a=t[1];$(l()(new Date(n)).format(d)),K(new Date(n)),xe(l()(new Date(a)).format(d)),we(new Date(a))}},r().createElement(s.aj6,{id:"startDatePickerInput",labelText:T("startDate","Start date"),style:{width:"100%"},value:X}),r().createElement(s.aj6,{id:"endDatePickerInput",labelText:T("endDate","End date"),style:{width:"100%"},placeholder:c,value:ke}))),Le()),r().createElement("div",{className:F.inLine},r().createElement(L,{isTablet:w},r().createElement(s.Y2U,{id:"repeatNumber",min:1,max:356,label:T("repeatEvery","Repeat every"),invalidText:T("invalidNumber","Number is not valid"),size:"md",value:ve,onChange:function(e,t){var n=t.value;Ae(n)}})),r().createElement(L,{isTablet:w},r().createElement(s.SYO,{name:"radio-button-group",className:F.recurringPatternType,valueSelected:de,onChange:function(e){return fe(e)}},r().createElement(s.EUY,{labelText:T("day","Day"),value:"DAY",id:"radioDay"}),r().createElement(s.EUY,{labelText:T("week","Week"),value:"WEEK",id:"radioWeek"})))),"WEEK"==de&&r().createElement("div",null,r().createElement(s.NUq,{label:Ce,id:"daysOfWeek",items:_,itemToString:function(e){return e?T(e.labelCode,e.label):""},selectionFeedback:"top-after-reopen",sortItems:function(e){return e.sort((function(e,t){return e.order>t.order}))},initialSelectedItems:_.filter((function(e){return be.includes(e.id)})),onChange:function(e){return function(e){Ee((function(){var t;return(null==e||null===(t=e.selectedItems)||void 0===t?void 0:t.length)<1?T("daysOfWeek","Days of the week"):e.selectedItems.map((function(e){return e.label})).join(", ")})),he(e.selectedItems.map((function(e){return e.id})))}(e)}})))):r().createElement(r().Fragment,null,r().createElement("div",{className:F.inLine},r().createElement(L,{isTablet:w},r().createElement(s.Mtg,{datePickerType:"single",dateFormat:f,light:w,value:Q,onChange:function(e){var t=Y(e,1)[0];return K(t)}},r().createElement(s.aj6,{id:"datePickerInput",labelText:T("date","Date"),style:{width:"100%"},placeholder:c}))),Le()))),r().createElement("section",{className:F.formGroup},r().createElement("span",null,T("note","Note")),r().createElement(s.Kx8,{id:"appointmentNote",light:w,value:P,labelText:T("appointmentNoteLabel","Write an additional note"),placeholder:T("appointmentNotePlaceholder","Write any additional points here"),onChange:function(e){return I(e.target.value)}}))),r().createElement(s.uVA,{className:w?F.tablet:F.desktop},r().createElement(s.zxk,{className:F.button,onClick:C,kind:"secondary"},T("discard","Discard")),r().createElement(s.zxk,{className:F.button,disabled:!j||Ne,onClick:function(){Ye(!0);var e,t=function(){var e,t,n=null===(e=null==N?void 0:N.find((function(e){return e.name===j})))||void 0===e?void 0:e.uuid,a=Y((0,p.convertTime12to24)(te,le),2),r=a[0],o=a[1],i=Q.setHours(r,o),s=l()(i).add(re,"minutes").toDate();return{appointmentKind:R,serviceUuid:n,startDateTime:l()(i).format(),endDateTime:l()(s).format(),providerUuid:null==k||null===(t=k.currentProvider)||void 0===t?void 0:t.uuid,providers:[{uuid:k.currentProvider.uuid}],locationUuid:pe,patientUuid:h,comments:P,uuid:"editing"===y?g.uuid:void 0}}(),n={appointmentRequest:t,recurringPattern:(e=null==Te?void 0:Te.setHours(23,59),{type:de,period:ve,endDate:e?l()(e).format():null,daysOfWeek:be})},a=new AbortController;(z?(0,u.Ae)(n,a):(0,u.GB)(t,a)).then((function(e){var t=e.status;200===t&&(Ye(!1),C(),Be(),(0,m.showToast)({critical:!0,kind:"success",description:T("appointmentNowVisible","It is now visible on the Appointments page"),title:"editing"===y?T("appointmentEdited","Appointment edited"):T("appointmentScheduled","Appointment scheduled")})),204===t&&(Ye(!1),(0,m.showNotification)({title:"editing"===y?T("appointmentEditError","Error editing appointment"):T("appointmentFormError","Error scheduling appointment"),kind:"error",critical:!0,description:T("noContent","No Content")}))}),(function(e){Ye(!1),(0,m.showNotification)({title:"editing"===y?T("appointmentEditError","Error editing appointment"):T("appointmentFormError","Error scheduling appointment"),kind:"error",critical:!0,description:null==e?void 0:e.message})}))}},T("saveAndClose","Save and close"))))}},6636:(e,t,n)=>{"use strict";n.d(t,{Ae:()=>v,GB:()=>_,l9:()=>f,v1:()=>b,zt:()=>d});var a=n(5047),r=n.n(a),o=n(3565),i=n.n(o),l=n(3255),s=n(906),m=n(6824),p=n.n(m);function u(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}i().extend(p());var c="/ws/rest/v1/appointments/search";function d(e,t,n){var a,r,o,m,p,u,d,f=(0,l.ZP)(c,(function(){return(0,s.openmrsFetch)(c,{method:"POST",signal:n.signal,headers:{"Content-Type":"application/json"},body:{patientUuid:e,startDate:t}})})),_=f.data,v=f.error,A=f.isLoading,g=f.isValidating,b=f.mutate,h=(null==_||null===(a=_.data)||void 0===a?void 0:a.length)?_.data:null,y=null===(o=null===(r=null==h?void 0:h.sort((function(e,t){return t.startDateTime>e.startDateTime?1:-1})))||void 0===r?void 0:r.filter((function(e){return"Cancelled"!==e.status})))||void 0===o?void 0:o.filter((function(e){var t=e.startDateTime;return i()(new Date(t).toISOString()).isBefore((new Date).setHours(0,0,0,0))})),C=null===(p=null===(m=null==h?void 0:h.sort((function(e,t){return e.startDateTime>t.startDateTime?1:-1})))||void 0===m?void 0:m.filter((function(e){return"Cancelled"!==e.status})))||void 0===p?void 0:p.filter((function(e){var t=e.startDateTime;return i()(new Date(t).toISOString()).isAfter(new Date)})),E=null===(d=null===(u=null==h?void 0:h.sort((function(e,t){return e.startDateTime>t.startDateTime?1:-1})))||void 0===u?void 0:u.filter((function(e){return"Cancelled"!==e.status})))||void 0===d?void 0:d.filter((function(e){var t=e.startDateTime;return i()(new Date(t).toISOString()).isToday()}));return{data:_?{pastAppointments:y,upcomingAppointments:C,todaysAppointments:E}:null,isError:v,isLoading:A,isValidating:g,mutate:b}}function f(){var e=(0,l.ZP)("/ws/rest/v1/appointmentService/all/full",s.openmrsFetch),t=e.data,n=e.error,a=e.isLoading;return{data:t?t.data:null,isError:n,isLoading:a}}function _(e,t){return(0,s.openmrsFetch)("/ws/rest/v1/appointment",{method:"POST",signal:t.signal,headers:{"Content-Type":"application/json"},body:e})}function v(e,t){return(0,s.openmrsFetch)("/ws/rest/v1/recurring-appointments",{method:"POST",signal:t.signal,headers:{"Content-Type":"application/json"},body:e})}var A,g,b=(A=r().mark((function e(t,n,a){var o,l,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Intl.DateTimeFormat().resolvedOptions().timeZone,l=i()(new Date).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"),m="/ws/rest/v1/appointments/".concat(n,"/status-change"),e.next=6,(0,s.openmrsFetch)(m,{body:{toStatus:t,onDate:l,timeZone:o},method:"POST",headers:{"Content-Type":"application/json"}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})),g=function(){var e=this,t=arguments;return new Promise((function(n,a){var r=A.apply(e,t);function o(e){u(r,n,a,o,i,"next",e)}function i(e){u(r,n,a,o,i,"throw",e)}o(void 0)}))},function(e,t,n){return g.apply(this,arguments)})},1354:e=>{"use strict";var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},i=[],l=0;l<e.length;l++){var s=e[l],m=a.base?s[0]+a.base:s[0],p=o[m]||0,u="".concat(m," ").concat(p);o[m]=p+1;var c=n(u),d={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==c)t[c].references++,t[c].updater(d);else{var f=r(d,a);a.byIndex=l,t.splice(l,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=a(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var l=n(o[i]);t[l].references--}for(var s=a(e,r),m=0;m<o.length;m++){var p=n(o[m]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}o=s}}},7378:e=>{"use strict";var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},4154:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5993:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},1583:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},8141:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}}]);