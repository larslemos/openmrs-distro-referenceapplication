(globalThis.webpackChunk_ohri_openmrs_esm_ohri_form_render_app=globalThis.webpackChunk_ohri_openmrs_esm_ohri_form_render_app||[]).push([[677],{21029:(e,r,n)=>{(r=n(33997)(!1)).push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-openmrs-esm-ohri-form-render__form-render__productiveHeading01___3JV1i{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading02___3NzvG{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading03___QD8oT{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading04___1D7qh{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading05___15MiB{font-size:var(--cds-heading-05-font-size, 2rem);font-weight:var(--cds-heading-05-font-weight, 400);line-height:var(--cds-heading-05-line-height, 1.25);letter-spacing:var(--cds-heading-05-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading06___DVLL9{font-size:var(--cds-heading-06-font-size, 2.625rem);font-weight:var(--cds-heading-06-font-weight, 300);line-height:var(--cds-heading-06-line-height, 1.199);letter-spacing:var(--cds-heading-06-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__bodyShort01___ENMuN{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-openmrs-esm-ohri-form-render__form-render__helperText01___3LITY{font-size:var(--cds-helper-text-01-font-size, 0.75rem);line-height:var(--cds-helper-text-01-line-height, 1.33333);letter-spacing:var(--cds-helper-text-01-letter-spacing, 0.32px)}.-openmrs-esm-ohri-form-render__form-render__bodyShort02___12g2A{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__bodyLong01___2od1L{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-openmrs-esm-ohri-form-render__form-render__bodyLong02___jQRKt{font-size:var(--cds-body-02-font-size, 1rem);font-weight:var(--cds-body-02-font-weight, 400);line-height:var(--cds-body-02-line-height, 1.5);letter-spacing:var(--cds-body-02-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__label01___27zva{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-openmrs-esm-ohri-form-render__form-render__text02___2LlbW{color:#525252}aside{background-color:#fff !important}div[class*=-esm-login__styles__center]>img{width:140px}.tab-12rem>button{width:12rem !important}.tab-14rem>button{width:14rem !important}.tab-16rem>button{width:16rem !important}.cds--overflow-menu>div{width:15rem !important}.-openmrs-esm-ohri-form-render__form-render__mainWrapper___3oKR5{background-color:#fff;padding:16px !important;margin:auto}@media(max-width: 768px){.-openmrs-esm-ohri-form-render__form-render__mainWrapper___3oKR5{max-width:100%;margin-top:1rem}}@media only screen and (min-width: 992px){.-openmrs-esm-ohri-form-render__form-render__mainWrapper___3oKR5{max-width:90%}}.-openmrs-esm-ohri-form-render__form-render__headerText___22tRH{font-size:16px;font-stretch:normal;font-style:normal;line-height:1.38;letter-spacing:normal;font-weight:400;padding-bottom:4px;margin:auto}.-openmrs-esm-ohri-form-render__form-render__widgetHeaderContainer___1-s8e{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem}.-openmrs-esm-ohri-form-render__form-render__widgetHeaderContainer___1-s8e>h4:after{content:" ";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-01)}.-openmrs-esm-ohri-form-render__form-render__toggleButtons___nePfg{width:fit-content;margin:0 .5rem}.-openmrs-esm-ohri-form-render__form-render__formRenderContent___6F_68{height:84vh}.-openmrs-esm-ohri-form-render__form-render__formRenderContent___6F_68>div{padding:0}.-openmrs-esm-ohri-form-render__form-render__formRenderContent___6F_68>div>p{padding:.5rem}.-openmrs-esm-ohri-form-render__form-render__renderTab___1sLuM>.-openmrs-esm-ohri-form-render__form-render__tab-form___1FGE-{border:.01rem dotted #6f6f6f !important;padding:0 0 1rem}.-openmrs-esm-ohri-form-render__form-render__formRenderDisplay___2fCi-{height:75vh;padding:0;border:.01rem dotted #6f6f6f !important;margin-top:.5rem}.-openmrs-esm-ohri-form-render__form-render__formRenderDisplay___2fCi->form>.-openmrs-esm-ohri-form-render__form-render__mainContainer___38Y_r>.-openmrs-esm-ohri-form-render__form-render__overflowContent___m6zp0{padding-bottom:1rem !important}.-openmrs-esm-ohri-form-render__form-render__formRenderTitle___2lNL1{font-size:25px;font-weight:normal;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:normal;color:#161616;margin-bottom:16px}.-openmrs-esm-ohri-form-render__form-render__container___1OiHR>#-openmrs-esm-ohri-form-render__form-render__tab-form___1FGE-{padding:0}.-openmrs-esm-ohri-form-render__form-render__renderColumn___sICi1{border-right:1em}.-openmrs-esm-ohri-form-render__form-render__renderColumn___sICi1>div>form,.-openmrs-esm-ohri-form-render__form-render__renderColumn___sICi1>div>.-openmrs-esm-ohri-form-render__form-render__finalJsonSchema___3j4M9{margin:-1rem;margin-top:-0.5rem}.-openmrs-esm-ohri-form-render__form-render__renderColumn___sICi1>div>form .-openmrs-esm-ohri-form-render__form-render__renderDropdown___19UzM{padding-top:.8rem;width:400px}.-openmrs-esm-ohri-form-render__form-render__jsonEditor___2Q1e0,.-openmrs-esm-ohri-form-render__form-render__finalJsonSchema___3j4M9{border:.01rem dotted #6f6f6f !important}.-openmrs-esm-ohri-form-render__form-render__viewMode___2we68 h4{float:left}.-openmrs-esm-ohri-form-render__form-render__viewMode___2we68 button{float:right;display:none}.-openmrs-esm-ohri-form-render__form-render__show___Xv3zN{display:block !important}.-openmrs-esm-ohri-form-render__form-render__hide___3Z_WH{display:none}',""]),r.locals={productiveHeading01:"-openmrs-esm-ohri-form-render__form-render__productiveHeading01___3JV1i",productiveHeading02:"-openmrs-esm-ohri-form-render__form-render__productiveHeading02___3NzvG",productiveHeading03:"-openmrs-esm-ohri-form-render__form-render__productiveHeading03___QD8oT",productiveHeading04:"-openmrs-esm-ohri-form-render__form-render__productiveHeading04___1D7qh",productiveHeading05:"-openmrs-esm-ohri-form-render__form-render__productiveHeading05___15MiB",productiveHeading06:"-openmrs-esm-ohri-form-render__form-render__productiveHeading06___DVLL9",bodyShort01:"-openmrs-esm-ohri-form-render__form-render__bodyShort01___ENMuN",helperText01:"-openmrs-esm-ohri-form-render__form-render__helperText01___3LITY",bodyShort02:"-openmrs-esm-ohri-form-render__form-render__bodyShort02___12g2A",bodyLong01:"-openmrs-esm-ohri-form-render__form-render__bodyLong01___2od1L",bodyLong02:"-openmrs-esm-ohri-form-render__form-render__bodyLong02___jQRKt",label01:"-openmrs-esm-ohri-form-render__form-render__label01___27zva",text02:"-openmrs-esm-ohri-form-render__form-render__text02___2LlbW",mainWrapper:"-openmrs-esm-ohri-form-render__form-render__mainWrapper___3oKR5",headerText:"-openmrs-esm-ohri-form-render__form-render__headerText___22tRH",widgetHeaderContainer:"-openmrs-esm-ohri-form-render__form-render__widgetHeaderContainer___1-s8e",toggleButtons:"-openmrs-esm-ohri-form-render__form-render__toggleButtons___nePfg",formRenderContent:"-openmrs-esm-ohri-form-render__form-render__formRenderContent___6F_68",renderTab:"-openmrs-esm-ohri-form-render__form-render__renderTab___1sLuM","tab-form":"-openmrs-esm-ohri-form-render__form-render__tab-form___1FGE-",formRenderDisplay:"-openmrs-esm-ohri-form-render__form-render__formRenderDisplay___2fCi-",mainContainer:"-openmrs-esm-ohri-form-render__form-render__mainContainer___38Y_r",overflowContent:"-openmrs-esm-ohri-form-render__form-render__overflowContent___m6zp0",formRenderTitle:"-openmrs-esm-ohri-form-render__form-render__formRenderTitle___2lNL1",container:"-openmrs-esm-ohri-form-render__form-render__container___1OiHR",renderColumn:"-openmrs-esm-ohri-form-render__form-render__renderColumn___sICi1",finalJsonSchema:"-openmrs-esm-ohri-form-render__form-render__finalJsonSchema___3j4M9",renderDropdown:"-openmrs-esm-ohri-form-render__form-render__renderDropdown___19UzM",jsonEditor:"-openmrs-esm-ohri-form-render__form-render__jsonEditor___2Q1e0",viewMode:"-openmrs-esm-ohri-form-render__form-render__viewMode___2we68",show:"-openmrs-esm-ohri-form-render__form-render__show___Xv3zN",hide:"-openmrs-esm-ohri-form-render__form-render__hide___3Z_WH"},e.exports=r},43677:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>j});var o=n(37900),t=n.n(o),m=n(7138),i=n(35342),_=n(34350),d=n(91354),a=n.n(d),s=n(31583),l=n.n(s),f=n(47378),h=n.n(f),c=n(55993),p=n.n(c),g=n(54154),u=n.n(g),b=n(8141),v=n.n(b),w=n(21029),y=n.n(w),S={};S.styleTagTransform=v(),S.setAttributes=p(),S.insert=h().bind(null,"head"),S.domAPI=l(),S.insertStyleElement=u(),a()(y(),S);const E=y()&&y().locals?y().locals:void 0;var z=n(60037),T=n(97270),x=n(79420),C=(n(13705),n(53025)),N=n(40844),R=n(90906);function H(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,o=new Array(r);n<r;n++)o[n]=e[n];return o}function L(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,t,m=[],i=!0,_=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(m.push(o.value),!r||m.length!==r);i=!0);}catch(e){_=!0,t=e}finally{try{i||null==n.return||n.return()}finally{if(_)throw t}}return m}}(e,r)||function(e,r){if(e){if("string"==typeof e)return H(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const I=function(){var e=(0,N.useTranslation)().t,r=e("formRenderTestTitle","Form Render Test"),n=(0,R.useConfig)().patientUuid,m=L((0,o.useState)(),2),i=m[0],d=m[1],a=L((0,o.useState)([]),2),s=a[0],l=a[1],f=L((0,o.useState)(!0),2),h=f[0],c=f[1],p=L((0,o.useState)(""),2),g=p[0],u=p[1],b=L((0,o.useState)(""),2),v=b[0],w=b[1],y=L((0,o.useState)(""),2),S=y[0],H=y[1],I=L((0,o.useState)(!1),2),j=I[0],M=I[1],D=L((0,o.useState)(""),2),F=D[0],O=D[1],A=L((0,o.useState)(null),2),J=A[0],k=A[1],P=L((0,o.useState)("github"),2),B=P[0],W=P[1],G=(0,o.useMemo)((function(){return new URLSearchParams(window.location.search).get("json")}),[]),K=L((0,o.useState)(0),2),U=K[0],Q=K[1],V=L((0,o.useState)(localStorage.getItem("forms-render-test:draft-form")),2),Y=V[0],Z=V[1],q=function(e){var r=e.availableIntents||[];r.length?(l(r),c(!1),u("")):(l([]),c(!0),u("*"))},X=function(e){w("");try{var r="string"==typeof e?JSON.parse(e):e;k(r),d(r),q(r),localStorage.setItem("forms-render-test:draft-form","string"==typeof e?e:JSON.stringify(e))}catch(e){w(e.toString())}M(!1)},$=L((0,o.useState)("minimized"),2),ee=$[0],re=$[1],ne=(0,o.useCallback)((function(){re("minimized"===ee?"maximized":"minimized")}),[ee]);return(0,o.useEffect)((function(){if(Y&&h)try{var e="string"==typeof Y?JSON.parse(Y):Y;q(e),k(e)}catch(e){}}),[Y]),(0,o.useEffect)((function(){if(G){var e=G.split("?")[0]+"?dl=1";e=e.replace("www.dropbox.com","ohri-form-render.globalhealthapp.net"),fetch(e).then((function(e){return e.json()})).then((function(e){e&&(Z(JSON.stringify(e,null,2)),X(e),Q(U+1))})).catch((function(e){console.error(e)}))}}),[G]),t().createElement("div",{className:E.container},t().createElement("div",{className:E.mainWrapper},t().createElement("div",{className:E.formRenderTitle},r),t().createElement("div",{id:"container",style:{display:"flex"}},t().createElement("div",{style:{width:"50%",display:"maximized"==ee?"none":"block"}},t().createElement("h4",null,e("jsonSchemaHeader","JSON Schema")),t().createElement("h5",{style:{color:"orange",marginBottom:"1rem"}},v),t().createElement(_.Tabs,null,t().createElement(_.TabList,{contained:!0},t().createElement(_.Tab,null,e("jsonInput","JSON Input")),t().createElement(_.Tab,null,e("finalSchema","Final Schema"))),t().createElement(_.TabPanels,null,t().createElement(_.TabPanel,null,t().createElement(_.Form,{onSubmit:function(e){e.preventDefault(),function(e){M(!1),H("");var r=(0,C.applyFormIntent)(g,(0,C.loadSubforms)(J));try{O(JSON.stringify(r,null,"  ")),d(r)}catch(e){H(e.toString())}M(!0)}()}},t().createElement(x.ZP,{key:U,mode:"json",theme:B,onChange:X,name:"jsonText",placeholder:e("jsonText","Enter JSON Text"),showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,width:"100%",className:E.jsonEditor,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,displayIndentGuides:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2},defaultValue:Y}),t().createElement("div",{className:E.renderDropdown},t().createElement(_.Dropdown,{titleText:e("formIntent","Form Intent"),label:e("selectForm","--Select Form Intent"),items:s,itemToString:function(e){return e.display},onChange:function(e){u(e.selectedItem.intent),M(!1)},disabled:h})),t().createElement("div",{className:E.renderDropdown},t().createElement(_.Dropdown,{titleText:e("jsonEditorThe","JSON Editor Theme"),label:B,items:["monokai","github","tomorrow","kuroir","twilight","xcode","solarized_dark","solarized_light","terminal"],itemToString:function(e){return e},onChange:function(e){W(e.selectedItem)}})),t().createElement(_.Button,{type:"submit",renderIcon:z.zb,className:"form-group",style:{marginTop:"1em"},disabled:!g},e("render","Render")))),t().createElement(_.TabPanel,null,t().createElement("div",{className:E.finalJsonSchema},t().createElement(x.ZP,{mode:"json",theme:B,value:F,name:"json-schema-result",placeholder:"",showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,width:"100%",height:"700px",readOnly:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,displayIndentGuides:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2}})))))),t().createElement("div",{style:{width:"maximized"==ee?"100%":"50%"}},t().createElement("div",{className:E.viewMode},t().createElement("h4",null,e("generatedForm","Generated Form")),t().createElement(_.Button,{renderIcon:T.Yq,className:j?E.show:"",onClick:ne},"minimized"==ee?"Maximize":"Minimize")),t().createElement("div",{className:E.formRenderContent},t().createElement("h5",{style:{color:"orange",marginBottom:"1rem"}},S),t().createElement(_.Tabs,null,t().createElement(_.TabList,{contained:!0},t().createElement(_.Tab,null,e("formRender","Form Render"))),t().createElement(_.TabPanels,null,t().createElement(_.TabPanel,{className:E.renderTab},j?t().createElement("div",{className:E.formRenderDisplay},t().createElement(C.OHRIForm,{formJson:i,patientUUID:n,mode:"edit"})):t().createElement("p",null,e("submitForm","Please submit the form"))))))))))};function j(){return t().createElement(m.VK,{basename:window.getOpenmrsSpaBase()},t().createElement(i.Z5,null,t().createElement(i.AW,{path:"/form-render-test",element:t().createElement(I,null)})))}}}]);