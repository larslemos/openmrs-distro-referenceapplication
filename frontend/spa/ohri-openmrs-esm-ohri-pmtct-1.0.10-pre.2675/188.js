"use strict";(globalThis.webpackChunk_ohri_openmrs_esm_ohri_pmtct=globalThis.webpackChunk_ohri_openmrs_esm_ohri_pmtct||[]).push([[188,633],{4339:(A,e,n)=>{n.d(e,{L1:()=>l,bL:()=>c,bo:()=>o,fX:()=>a,g3:()=>d,lP:()=>f,nS:()=>u});var t=n(906),r=n(4061);n(561);var i="/ws/rest/v1/";function a(A){return(0,t.openmrsFetch)("/ws/rest/v1/idgen/identifiersource/".concat(A,"/identifier"),{headers:{"Content-Type":"application/json"},method:"POST",body:{}})}function o(A){return Promise.all(A.map((function(A){return function(A){return(0,t.openmrsFetch)("/ws/rest/v1/patient",{headers:{"Content-Type":"application/json"},method:"POST",body:A})}(A)})))}function c(A){return(0,t.openmrsFetch)("/ws/rest/v1/relationship",{headers:{"Content-Type":"application/json"},method:"POST",body:A})}function u(A,e){return(0,t.openmrsFetch)("".concat(i,"reportingrest/dataSet/").concat(r.V8,"?ptracker_id=").concat(A,"&patient_uuid=").concat(e)).then((function(A){return A.data||null}))}function f(A){return(0,t.openmrsFetch)("".concat(i,"/patient/").concat(A,"/identifier")).then((function(A){var e=A.data;return e.results.length?e.results:null}))}function d(A,e){return(0,t.openmrsFetch)("".concat(i,"patient/").concat(e,"/identifier"),{headers:{"Content-Type":"application/json"},method:"POST",body:A})}function l(A,e){return(0,t.openmrsFetch)("".concat(i,"reportingrest/dataSet/").concat(r.b2,"?person_uuid=").concat(A,"&ptracker_id=").concat(e)).then((function(A){return A.data||null}))}},4061:(A,e,n)=>{n.d(e,{A:()=>C,Ah:()=>k,BV:()=>j,CX:()=>P,Cy:()=>N,Eu:()=>r,H9:()=>O,Hn:()=>T,Ke:()=>M,M$:()=>i,Me:()=>v,Qn:()=>h,Qq:()=>p,SB:()=>X,TZ:()=>d,Tn:()=>q,Tq:()=>B,Tv:()=>w,UT:()=>t,V8:()=>W,W$:()=>F,Wf:()=>a,Wp:()=>y,X:()=>D,XL:()=>l,Zu:()=>u,b2:()=>Z,bD:()=>m,fe:()=>V,gZ:()=>G,hO:()=>$,hV:()=>_,ic:()=>L,mL:()=>x,mp:()=>b,pA:()=>S,pL:()=>c,po:()=>s,rq:()=>H,u_:()=>o,uk:()=>f,xT:()=>g,yC:()=>E});var t="51bec6f7-df43-426e-a83e-c1ae5501372f",r="1305AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",i="4da0a3fe-e546-463f-81fa-084f098ff06c",a="9d6d1eec-2cd6-4637-a981-4a46b4b8b41f",o="6c45421e-2566-47cb-bbb3-07586fffbfe2",c="2678423c-0523-4d76-b0da-18177b439eed",u="159917AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",f="1719AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",d="c5f74c86-62cd-4d22-9260-4238f1e45fe0",l="6e62bf7e-2107-4d09-b485-6e60cbbb2d08",s="1568AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",p="163260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",b="1856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",h="1c70c490-cafa-4c95-9fdd-a30b62bb78b8",v="164803AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",y="164802AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",m="af1f1b24-d2e8-4282-b308-0bf79b365584",w="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",T="163260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",g="1148AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",k="a40d8bc4-56b8-4f28-a1dd-412da5cf20ed",P="1151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_="160433AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",S="159599AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",C="2549af50-75c8-4aeb-87ca-4bb2cef6c69a",M="163260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",x="159427AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",F="164402AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",L="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",D="5596AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",B="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",O="159599AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",X="ee8c0292-47f8-4c01-8b60-8ba13a560e1a",j="6027869c-5d7e-4a82-b22f-6d9c57d61a4d",E="269bcc7f-04f8-4ddc-883d-7a3a0d569aad",V="159427AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",$="163281AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",q="1305AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",N="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",W="5299521a-7fad-47bb-8280-14c99d04c790",Z="ed50a889-dd5b-4759-861c-b54e3c686fe7",G="12de5bc5-352e-4faf-9961-a2125085a75c",H=["Antenatal","Labor and Delivery","Mother Postnatal"]},7633:(A,e,n)=>{n.r(e),n.d(e,{PTrackerSubmissionAction:()=>u,default:()=>l,updatePatientPtracker:()=>f});var t=n(4339),r=n(4061);function i(A,e,n,t,r,i,a){try{var o=A[i](a),c=o.value}catch(A){return void n(A)}o.done?e(c):Promise.resolve(c).then(t,r)}function a(A){return function(){var e=this,n=arguments;return new Promise((function(t,r){var a=A.apply(e,n);function o(A){i(a,t,r,o,c,"next",A)}function c(A){i(a,t,r,o,c,"throw",A)}o(void 0)}))}}var o,c=function(A,e){var n,t,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,t&&(r=2&i[0]?t.return:i[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,i[1])).done)return r;switch(t=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,t=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(A,a)}catch(A){i=[6,A],t=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},u={applyAction:(o=a((function(A){var e,n,t,r,i;return c(this,(function(a){return e=A.patient,n=A.encounters,t=A.sessionMode,r=n[0],i=r.location.uuid,"view"===t||f(r,i,e.id),[2]}))})),function(A){return o.apply(this,arguments)})};function f(A,e,n){return d.apply(this,arguments)}function d(){return(d=a((function(A,e,n){var i,a,o;return c(this,(function(c){switch(c.label){case 0:return(a=null===(i=A.obs.find((function(A){return A.concept.uuid===r.u_})))||void 0===i?void 0:i.value)?[4,(0,t.lP)(n)]:[2];case 1:return c.sent().filter((function(A){return A.identifierType.uuid===r.M$})).some((function(A){return A.identifier===a}))||(o={identifier:a,identifierType:r.M$,location:e,preferred:!1},(0,t.g3)(o,n)),[2]}}))}))).apply(this,arguments)}const l=u},5188:(A,e,n)=>{n.r(e),n.d(e,{MotherToChildLinkageSubmissionAction:()=>w,default:()=>P});var t=n(4339);function r(A,e){var n;return(null==A||null===(n=A.obs)||void 0===n?void 0:n.filter((function(A){return A.concept.uuid===e})))||[]}function i(A,e){var n;return null===(n=A.groupMembers)||void 0===n?void 0:n.find((function(A){return A.concept.uuid==e}))}function a(A){var e;return null==A||null===(e=A.value)||void 0===e?void 0:e.uuid}var o=n(7633);function c(A,e,n,t,r,i,a){try{var o=A[i](a),c=o.value}catch(A){return void n(A)}o.done?e(c):Promise.resolve(c).then(t,r)}function u(A){return function(){var e=this,n=arguments;return new Promise((function(t,r){var i=A.apply(e,n);function a(A){c(i,t,r,a,o,"next",A)}function o(A){c(i,t,r,a,o,"throw",A)}a(void 0)}))}}var f,d=function(A,e){var n,t,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,t&&(r=2&i[0]?t.return:i[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,i[1])).done)return r;switch(t=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,t=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(A,a)}catch(A){i=[6,A],t=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},l="1587AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",s="164802AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",p="164803AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",b="159917AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",h="691eed12-c0f1-11e2-94be-8c13b969e334",v="151849AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",y="4da0a3fe-e546-463f-81fa-084f098ff06c",m="05a29f94-c0ed-11e2-94be-8c13b969e334",w={applyAction:(f=u((function(A){var e,n,i,a,c,f;return d(this,(function(l){switch(l.label){case 0:return e=A.patient,n=A.encounters,i=A.sessionMode,a=n[0],c=a.location.uuid,"enter"!==i?[2]:[4,(0,o.updatePatientPtracker)(a,c,e.id)];case 1:return l.sent(),[4,Promise.all(r(a,"1c70c490-cafa-4c95-9fdd-a30b62bb78b8").map(function(){var A=u((function(A){return d(this,(function(e){return[2,T(A,c)]}))}));return function(e){return A.apply(this,arguments)}}()))];case 2:return f=l.sent(),[4,(0,t.bo)(f)];case 3:return l.sent().map((function(A){var n=A.data;return(0,t.bL)({relationshipType:"8d91a210-c2cc-11de-8d13-0010c6dffd0f",personA:e.id,personB:n.uuid})})),[2]}}))})),function(A){return f.apply(this,arguments)})};function T(A,e){return g.apply(this,arguments)}function g(){return(g=u((function(A,e){var n,r,o,c,u,f;return d(this,(function(d){switch(d.label){case 0:return a(i(A,b))!=v?[3,3]:(o={identifiers:[],person:{names:[{givenName:"TBD",middleName:"TBD",familyName:"TBD",preferred:!0}],gender:k(i(A,l)),birthdate:null===(n=i(A,s))||void 0===n?void 0:n.value,birthdateEstimated:!1,dead:!1,deathDate:null,causeOfDeath:""}},(c=null===(r=i(A,p))||void 0===r?void 0:r.value)&&(o.identifiers=[{identifier:c,location:e,identifierType:y,preferred:!1}]),f={},[4,(0,t.fX)(h)]);case 1:return[4,d.sent().data.identifier];case 2:return f.identifier=d.sent(),f.identifierType=m,f.location=e,f.preferred=!0,u=f,o.identifiers.push(u),[2,o];case 3:return[2,null]}}))}))).apply(this,arguments)}function k(A){return{"1534AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA":"M","1535AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA":"F"}[a(A)]}const P=w}}]);