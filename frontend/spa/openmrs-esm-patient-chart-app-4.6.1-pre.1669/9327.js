(globalThis.webpackChunk_openmrs_esm_patient_chart_app=globalThis.webpackChunk_openmrs_esm_patient_chart_app||[]).push([[9327,3903],{3871:(e,t,n)=>{"use strict";n.d(t,{Fd:()=>l,JB:()=>o,S_:()=>i,Yh:()=>r,e1:()=>s,sb:()=>a});var i=window.getOpenmrsSpaBase(),a="/patient/:patientUuid/chart",r="".concat(a,"/:view/*"),o="".concat(window.spaBase).concat(a),s="@openmrs/esm-patient-chart-app",l="patient-chart-workspace-header-slot"},9327:(e,t,n)=>{"use strict";n.r(t),n.d(t,{backendDependencies:()=>P,importTranslation:()=>w,setupOpenMRS:()=>N,version:()=>_});var i=n(906),a=n(414),r={visitDiagnosisConceptUuid:{_default:"159947AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_type:i.Type.ConceptUuid},notesConceptUuids:{_type:i.Type.Array,_default:["162169AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"]},offlineVisitTypeUuid:{_type:i.Type.UUID,_description:"The UUID of the visit type to be used for the automatically created offline visits.",_default:"a22733fa-3501-4020-a520-da024eeff088"},showRecommendedVisitTypeTab:{_type:i.Type.Boolean,_description:"Whether start visit form should display recommended visit type tab. Requires `visitTypeResourceUrl`",_default:!1},visitTypeResourceUrl:{_type:i.Type.String,_default:"/etl-latest/etl/patient/",_description:"Custom URL to load resources required for showing recommended visit types"},disableEmptyTabs:{_type:i.Type.Boolean,_default:!1,_description:"Disable notes/tests/medications/encounters tabs when empty"},showAllEncountersTab:{_type:i.Type.Boolean,_description:"Shows the All Encounters Tab of Patient Visits section in Patient Chart",_default:!1},startVisitLabel:{_type:i.Type.String,_description:"Custom label to use on the start visit actions",_default:""},endVisitLabel:{_type:i.Type.String,_description:"Custom label to use on the end visit actions",_default:""},visitAttributeTypes:{_type:i.Type.Array,_description:"List of visit attribute types shown when filling the visit form",_elements:{uuid:{_type:i.Type.UUID,_description:"UUID of the visit attribute type"},required:{_type:i.Type.Boolean,_description:"Whether the attribute type field is required or not",_default:!1},displayInThePatientBanner:{_type:i.Type.Boolean,_description:"Whether we should show this visit attribute's value in the patient banner",_default:!0}},_default:[{uuid:"57ea0cbb-064f-4d09-8cf4-e8228700491c",required:!1,displayInThePatientBanner:!0},{uuid:"aac48226-d143-4274-80e0-264db4e368ee",required:!1,displayInThePatientBanner:!0}]},showServiceQueueFields:{_type:i.Type.Boolean,_description:"Whether start visit form should display service queue fields`",_default:!1},visitQueueNumberAttributeUuid:{_type:i.Type.ConceptUuid,_description:"The UUID of the visit attribute that contains the visit queue number.",_default:"c61ce16f-272a-41e7-9924-4c555d0932c5"},defaultFacilityUrl:{_type:i.Type.String,_default:"",_description:"Custom URL to load default facility if it is not in the session"},showUpcomingAppointments:{_type:i.Type.Boolean,_description:"Whether start visit form should display upcoming appointments",_default:!1},logo:{src:{_type:i.Type.String,_default:null,_description:"A path or URL to an image. Defaults to the OpenMRS SVG sprite."},alt:{_type:i.Type.String,_default:"Logo",_description:"Alt text, shown on hover"},name:{_type:i.Type.String,_default:null,_description:"The organization name displayed when image is absent"}}},o=(i.Type.UUID,n(3871)),s={slot:"patient-chart-summary-dashboard-slot",columns:4,path:"Patient Summary"},l={slot:"patient-chart-encounters-dashboard-slot",columns:1,path:"Visits"},c=n(5047),u=n.n(c);function d(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){p(e,t,n[t])}))}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var y=n(8934),h=n(3909);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){v(e,t,n[t])}))}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var _="4.6.1-pre.1669",w=n(3979),P={};function N(){var e,t,c,p;return(0,i.setupOfflineSync)(a.visitSyncType,["patient-registration"],(c=u().mark((function e(t,n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f(m({},t),{stopDatetime:new Date}),e.next=3,(0,i.saveVisit)(a,n.abort).toPromise();case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Failed to synchronize offline visit with the UUID: ".concat(t.uuid,". Error: ").concat(JSON.stringify(r.data)));case 6:return e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})),p=function(){var e=this,t=arguments;return new Promise((function(n,i){var a=c.apply(e,t);function r(e){d(a,n,i,r,o,"next",e)}function o(e){d(a,n,i,r,o,"throw",e)}r(void 0)}))},function(e,t){return p.apply(this,arguments)})),(0,i.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:".+/ws/fhir2/R4/Patient/.+"}),(0,i.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:".+/ws/rest/v1/visit.+"}),(0,i.defineConfigSchema)(o.e1,r),(0,i.defineExtensionConfigSchema)("nav-group",h.genericNavGroupConfigSchema),(0,i.defineExtensionConfigSchema)("dashboard",y.genericDashboardConfigSchema),(0,i.registerBreadcrumbs)([{path:o.JB,title:function(){return Promise.resolve(window.i18next.t("patientBreadcrumb",{defaultValue:"Patient",ns:o.e1}))},parent:"".concat(window.spaBase,"/home")},{path:"".concat(o.JB,"/:view"),title:function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return r}}(t,n)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=(i[0],i[1]);return Promise.resolve(window.i18next.t("".concat(decodeURIComponent(a)," dashboard"),{ns:o.e1,defaultValue:"".concat(decodeURIComponent(a)," dashboard")}))},parent:o.JB}]),{pages:[{route:/^patient\/.+\/chart/,load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(7631),n.e(4583),n.e(6274),n.e(4924),n.e(4350),n.e(8439)]).then(n.bind(n,8439))}),{featureName:"patient-chart",moduleName:o.e1}),online:!0,offline:!0}],extensions:[{name:"charts-summary-dashboard",slot:"patient-chart-dashboard-slot",order:0,load:(0,i.getSyncLifecycle)((0,a.createDashboardLink)(A(g({},s),{title:function(){var t;return Promise.resolve(null!==(e=null===(t=window.i18next)||void 0===t?void 0:t.t("summary_link",{defaultValue:"Patient Summary",ns:o.e1}))&&void 0!==e?e:"Patient Summary")}})),{featureName:"summary-dashboard",moduleName:o.e1}),meta:s,online:!0,offline:!0},{name:"start-visit-button",slot:"patient-actions-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(2741)]).then(n.bind(n,2741))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"stop-visit-button",slot:"patient-actions-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(9972)]).then(n.bind(n,9972))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"mark-alive-button",slot:"patient-actions-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(4924),n.e(4350),n.e(2013)]).then(n.bind(n,2013))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"stop-visit-button-patient-search",slot:"patient-search-actions-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(9972)]).then(n.bind(n,9972))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"cancel-visit-button",slot:"patient-actions-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(9573)]).then(n.bind(n,9573))}),{featureName:"patient-actions-slot",moduleName:o.e1})},{name:"mark-patient-deceased-button",slot:"patient-actions-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(4924),n.e(4350),n.e(1306)]).then(n.bind(n,1306))}),{featureName:"patient-actions-slot-deceased-button",moduleName:o.e1})},{name:"cancel-visit-button",slot:"patient-search-actions-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(9573)]).then(n.bind(n,9573))}),{featureName:"patient-actions-slot-cancel-visit-button",moduleName:o.e1})},{name:"add-past-visit-button",slot:"patient-actions-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(3853)]).then(n.bind(n,3853))}),{featureName:"patient-actions-slot-add-past-visit-button",moduleName:o.e1})},{name:"add-past-visit-button",slot:"patient-search-actions-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(3853)]).then(n.bind(n,3853))}),{featureName:"patient-search-actions-slot-add-past-visit-button",moduleName:o.e1})},{name:"encounters-summary-dashboard",slot:"patient-chart-dashboard-slot",order:5,load:(0,i.getSyncLifecycle)((0,a.createDashboardLink)(A(g({},l),{title:function(){var e;return Promise.resolve(null!==(t=null===(e=window.i18next)||void 0===e?void 0:e.t("encounters_link",{defaultValue:"Visits",ns:o.e1}))&&void 0!==t?t:"Visits")}})),{featureName:"encounter",moduleName:o.e1}),meta:l,online:!0,offline:!0},{name:"past-visits-detail-overview",order:1,slot:"patient-chart-encounters-dashboard-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(9692),n.e(7631),n.e(2990),n.e(4924),n.e(4350),n.e(2426)]).then(n.bind(n,2426))}),{featureName:"visits-detail-slot",moduleName:o.e1}),meta:{title:"Visits",view:"visits"}},{name:"past-visits-overview",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(4924),n.e(4350),n.e(9631)]).then(n.bind(n,9631))}),{featureName:"past-visits-overview",moduleName:o.e1}),meta:{title:"Edit or load a past visit",view:"visits"}},{name:"start-visit-workspace-form",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(9692),n.e(6913),n.e(3753),n.e(4924),n.e(4350),n.e(3565),n.e(6815)]).then(n.bind(n,6815))}),{featureName:"start-visit-form",moduleName:o.e1}),meta:{title:"Start a visit"}},{name:"mark-patient-deceased-workspace-form",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(9692),n.e(781),n.e(338),n.e(4924),n.e(4350),n.e(3565),n.e(47)]).then(n.bind(n,47))}),{featureName:"mark-patient-deceased-form",moduleName:o.e1}),meta:{title:"Mark Deceased"}},{name:"patient-details-tile",slot:"visit-form-header-slot",order:1,load:(0,i.getAsyncLifecycle)((function(){return n.e(1202).then(n.bind(n,1202))}),{featureName:"patient-details-tile",moduleName:o.e1})},{name:"nav-group",load:(0,i.getAsyncLifecycle)((function(){return Promise.resolve().then(n.bind(n,3909))}),{featureName:"Nav group",moduleName:o.e1})},{name:"dashboard",load:(0,i.getAsyncLifecycle)((function(){return Promise.resolve().then(n.bind(n,8934))}),{featureName:"Dashboard",moduleName:o.e1})},{name:"cancel-visit-dialog",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(4924),n.e(4350),n.e(7008)]).then(n.bind(n,7008))}),{featureName:"cancel visit",moduleName:o.e1})},{name:"start-visit-dialog",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(4350),n.e(2036)]).then(n.bind(n,2036))}),{featureName:"start visit",moduleName:o.e1})},{id:"end-visit-dialog",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(6913),n.e(4924),n.e(4350),n.e(8337)]).then(n.bind(n,8337))}),{featureName:"end visit",moduleName:o.e1})},{name:"confirm-deceased-dialog",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(4350),n.e(9247)]).then(n.bind(n,9247))}),{featureName:"confirm death",moduleName:o.e1})},{name:"confirm-alive-modal",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(3255),n.e(4924),n.e(4350),n.e(4968)]).then(n.bind(n,4968))}),{featureName:"confirm alive",moduleName:o.e1})},{id:"start-visit-button-patient-search",slot:"start-visit-button-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(4350),n.e(73)]).then(n.bind(n,73))}),{featureName:"start-visit-button-patient-search",moduleName:o.e1})},{id:"visit-attribute-tags",slot:"patient-banner-tags-slot",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4350),n.e(9973)]).then(n.bind(n,9973))}),{featureName:"visit-attribute-tags",moduleName:o.e1})},{name:"delete-encounter-modal",load:(0,i.getAsyncLifecycle)((function(){return Promise.all([n.e(4924),n.e(4350),n.e(7617)]).then(n.bind(n,7617))}),{featureName:"delete-encounter-modal",moduleName:o.e1}),online:!0,offline:!0}]}}},8934:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,genericDashboardConfigSchema:()=>l});var i=n(268),a=n.n(i),r=n(906),o=n(8744),s=n(414),l={title:{_description:"The display string for this dashboard",_default:"",_type:r.Type.String},path:{_description:"The URL fragment this link points to",_default:"",_type:r.Type.String},slot:{_description:"The slot that this dashboard config renders",_default:"",_type:r.Type.String},columns:{_default:1,_type:r.Type.Number,_description:"The number of columns that widgets in the dashboard can use to display themselves in. Note that '2' will not necessarily result in a two-column layoutâ€”rather that widgets will be able to occupy either one or both of those columns."}};function c(e){var t=e.basePath,n=(0,r.useConfig)();return a().createElement(o.BrowserRouter,null,a().createElement(s.DashboardExtension,{path:n.path,title:n.title,basePath:t}))}},3909:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,genericNavGroupConfigSchema:()=>s});var i=n(268),a=n.n(i),r=n(906),o=n(414),s={title:{_type:r.Type.String,_description:"The title of the nav group.",_default:"My Group"},slotName:{_type:r.Type.String,_description:"The name of the slot to create, which links can be added to.",_default:"my-group-nav-slot"}};function l(e){var t=e.basePath,n=(0,r.useConfig)();return a().createElement(o.DashboardGroupExtension,{title:n.title,slotName:n.slotName,basePath:t})}},3979:(e,t,n)=>{var i={"./en.json":[3574,3574],"./fr.json":[2757,2757],"./he.json":[5833,5833],"./km.json":[7807,7807]};function a(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((()=>n(a)))}a.keys=()=>Object.keys(i),a.id=3979,e.exports=a}}]);