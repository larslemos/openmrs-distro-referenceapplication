(globalThis.webpackChunk_ohri_openmrs_esm_ohri_hiv_app=globalThis.webpackChunk_ohri_openmrs_esm_ohri_hiv_app||[]).push([[137],{2017:(e,A,t)=>{(A=t(3997)(!1)).push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-openmrs-esm-ohri-hiv__patient-list__productiveHeading01___3vA2u{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-openmrs-esm-ohri-hiv__patient-list__productiveHeading02___EC1VH{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-openmrs-esm-ohri-hiv__patient-list__productiveHeading03___3Zd13{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-openmrs-esm-ohri-hiv__patient-list__productiveHeading04___1IfBU{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-openmrs-esm-ohri-hiv__patient-list__productiveHeading05___hRSMp{font-size:var(--cds-heading-05-font-size, 2rem);font-weight:var(--cds-heading-05-font-weight, 400);line-height:var(--cds-heading-05-line-height, 1.25);letter-spacing:var(--cds-heading-05-letter-spacing, 0)}.-openmrs-esm-ohri-hiv__patient-list__productiveHeading06___1fM9X{font-size:var(--cds-heading-06-font-size, 2.625rem);font-weight:var(--cds-heading-06-font-weight, 300);line-height:var(--cds-heading-06-line-height, 1.199);letter-spacing:var(--cds-heading-06-letter-spacing, 0)}.-openmrs-esm-ohri-hiv__patient-list__bodyShort01___WVSCp{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-openmrs-esm-ohri-hiv__patient-list__helperText01___2Kr98{font-size:var(--cds-helper-text-01-font-size, 0.75rem);line-height:var(--cds-helper-text-01-line-height, 1.33333);letter-spacing:var(--cds-helper-text-01-letter-spacing, 0.32px)}.-openmrs-esm-ohri-hiv__patient-list__bodyShort02___3TxUI{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-openmrs-esm-ohri-hiv__patient-list__bodyLong01___cmbTB{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-openmrs-esm-ohri-hiv__patient-list__bodyLong02___17Vcj{font-size:var(--cds-body-02-font-size, 1rem);font-weight:var(--cds-body-02-font-weight, 400);line-height:var(--cds-body-02-line-height, 1.5);letter-spacing:var(--cds-body-02-letter-spacing, 0)}.-openmrs-esm-ohri-hiv__patient-list__label01___3p5c3{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-openmrs-esm-ohri-hiv__patient-list__text02___hUZuV{color:#525252}aside{background-color:#fff !important}div[class*=-esm-login__styles__center]>img{width:140px}.tab-12rem>button{width:12rem !important}.tab-14rem>button{width:14rem !important}.tab-16rem>button{width:16rem !important}.cds--overflow-menu>div{width:15rem !important}nav .cds--accordion__title{color:#525252;font-weight:600 !important}nav .cds--accordion__content{padding-bottom:0 !important;padding-top:0 !important}nav .cds--accordion__content>a{background-color:#cecece !important;color:#161616 !important;border-left-color:var(--brand-01) !important;font:bolder}.cds--tab--list button{max-width:16rem !important}.-openmrs-esm-ohri-hiv__patient-list__widgetContainer___26Pph{background-color:#fff}.-openmrs-esm-ohri-hiv__patient-list__widgetHeaderContainer___2P-qp{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem}.-openmrs-esm-ohri-hiv__patient-list__widgetHeaderContainer___2P-qp>h4:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-01)}.-openmrs-esm-ohri-hiv__patient-list__toggleButtons___3xhWK{width:fit-content;margin:0 .5rem}.-openmrs-esm-ohri-hiv__patient-list__searchField___3ovZs{width:100%;max-width:250px;border:0px !important}.-openmrs-esm-ohri-hiv__patient-list__searchBox___IOM1v{width:100%;display:flex;justify-content:right}.-openmrs-esm-ohri-hiv__patient-list__container___3v5eP{margin-top:16px;margin-left:inherit;width:100%;overflow-y:hidden}.-openmrs-esm-ohri-hiv__patient-list__tabContainer___1yci1{margin-top:16px;padding-left:1rem;background-color:#fff}.-openmrs-esm-ohri-hiv__patient-list__tabContainer___1yci1 li button{width:100% !important}',""]),A.locals={productiveHeading01:"-openmrs-esm-ohri-hiv__patient-list__productiveHeading01___3vA2u",productiveHeading02:"-openmrs-esm-ohri-hiv__patient-list__productiveHeading02___EC1VH",productiveHeading03:"-openmrs-esm-ohri-hiv__patient-list__productiveHeading03___3Zd13",productiveHeading04:"-openmrs-esm-ohri-hiv__patient-list__productiveHeading04___1IfBU",productiveHeading05:"-openmrs-esm-ohri-hiv__patient-list__productiveHeading05___hRSMp",productiveHeading06:"-openmrs-esm-ohri-hiv__patient-list__productiveHeading06___1fM9X",bodyShort01:"-openmrs-esm-ohri-hiv__patient-list__bodyShort01___WVSCp",helperText01:"-openmrs-esm-ohri-hiv__patient-list__helperText01___2Kr98",bodyShort02:"-openmrs-esm-ohri-hiv__patient-list__bodyShort02___3TxUI",bodyLong01:"-openmrs-esm-ohri-hiv__patient-list__bodyLong01___cmbTB",bodyLong02:"-openmrs-esm-ohri-hiv__patient-list__bodyLong02___17Vcj",label01:"-openmrs-esm-ohri-hiv__patient-list__label01___3p5c3",text02:"-openmrs-esm-ohri-hiv__patient-list__text02___hUZuV",widgetContainer:"-openmrs-esm-ohri-hiv__patient-list__widgetContainer___26Pph",widgetHeaderContainer:"-openmrs-esm-ohri-hiv__patient-list__widgetHeaderContainer___2P-qp",toggleButtons:"-openmrs-esm-ohri-hiv__patient-list__toggleButtons___3xhWK",searchField:"-openmrs-esm-ohri-hiv__patient-list__searchField___3ovZs",searchBox:"-openmrs-esm-ohri-hiv__patient-list__searchBox___IOM1v",container:"-openmrs-esm-ohri-hiv__patient-list__container___3v5eP",tabContainer:"-openmrs-esm-ohri-hiv__patient-list__tabContainer___1yci1"},e.exports=A},4061:(e,A,t)=>{"use strict";t.d(A,{$H:()=>Xe,$l:()=>a,Ab:()=>u,B4:()=>Se,BN:()=>h,CI:()=>Ze,Cf:()=>k,D8:()=>_,DC:()=>v,Dp:()=>fe,EK:()=>p,EN:()=>N,ES:()=>B,EW:()=>Me,FS:()=>w,Fp:()=>S,GZ:()=>Z,H3:()=>x,IX:()=>M,J4:()=>Ie,Ju:()=>me,Kb:()=>Je,Kc:()=>ze,LJ:()=>We,LM:()=>xe,LN:()=>f,Lg:()=>Oe,Ln:()=>r,Mn:()=>ee,N8:()=>ke,OD:()=>T,ON:()=>ve,P0:()=>J,P1:()=>re,PG:()=>l,PN:()=>R,Pb:()=>te,Pi:()=>Ne,Q0:()=>Be,RA:()=>X,RG:()=>Ve,Rl:()=>I,U2:()=>pe,UT:()=>s,V3:()=>m,WK:()=>c,Wx:()=>$e,XB:()=>$,Xg:()=>be,Yj:()=>ue,Z5:()=>je,Z7:()=>W,ZB:()=>ye,ZJ:()=>i,Zd:()=>Pe,_1:()=>Fe,_r:()=>Q,bg:()=>F,bm:()=>De,c9:()=>ge,dL:()=>L,e_:()=>H,ep:()=>he,ff:()=>ce,gD:()=>Ue,gc:()=>b,gi:()=>z,gk:()=>Ke,hf:()=>E,i6:()=>V,iK:()=>d,io:()=>oe,kz:()=>Te,lY:()=>we,lo:()=>g,m$:()=>Re,mV:()=>o,m_:()=>P,mn:()=>Le,nI:()=>ne,n_:()=>He,nu:()=>se,o$:()=>y,oE:()=>Ee,oM:()=>de,p5:()=>ae,po:()=>U,px:()=>K,qC:()=>G,rk:()=>Ge,rt:()=>Ce,sU:()=>ie,sb:()=>n,t9:()=>q,uR:()=>D,v$:()=>_e,vS:()=>le,wV:()=>O,wg:()=>qe,xg:()=>C,yL:()=>j,z9:()=>Ae,zM:()=>Y});var n="${openmrsSpaBase}/patient/",r="e16b0068-b6a2-46b7-aba9-e3be00a7b4ab",a="703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",i="e8e8fe71-adbb-48e7-b531-589985094d30",o="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",c="e4d801f0-e2fd-11eb-8212-7d7156e00a1f",l="cdee0abe-e471-11eb-8212-7d7156e00a1f",s="51bec6f7-df43-426e-a83e-c1ae5501372f",d="ccbcf6d8-77b7-44a5-bb43-d352478ea4e9",u="874b5fa2-0368-49ae-a756-5bfc6a14fc29",f="5accbc54-1a6c-4789-8104-3ade8f92d3a7",h="7e54cd64-f9c3-11eb-8e6a-57478ce139b0",p="160555AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",m="83e40f2c-c316-43e6-a12e-20a338100281",_="746737c0-4201-4d7f-b580-816e36dc425a",b="d3d4ae96-8c8a-43db-a9dc-dac951f5dcb3",v="2bf14240-b2b2-42b2-8cf3-b5f8a0cb7764",g="160554AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",y="160540AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",w="20efadf9-86d3-4498-b3ab-7da4dad9c429",S="161011AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",x="cb0a65a7-0587-477e-89b9-cf2fd144f1d4",E="163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",C="8a9809e9-8a0b-4e0e-b1f6-80b0cbbe361b",R="dfbe256e-30ba-4033-837a-2e8477f2e7cd",k="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",U="160108AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",T="c52ecf45-bd6c-43ed-861b-9a2714878729",D="a221448d-512b-4750-84bf-d29be9f802b3",L="163105AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",z="79c1f50f-f77d-42e2-ad2a-d29304dde2fe",H="74bf4fe6-8fdb-4228-be39-680a93a9cf6d",I="159599AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",P="164515AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",N="dfbe256e-30ba-4033-837a-2e8477f2e7cd",V="7557d77c-172b-4673-9335-67a38657dd01",F="162572AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",j="164516AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",B="164431AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",K="160738AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",M="160568AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Z="160562AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",O="163513AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",$="161011AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",q="5497AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",W="1543AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",G="ef973f1f-557f-4620-acf5-9c4c18bf1eda",J="e329cdf4-4eeb-4821-85ec-80ec4b503de0",X="111c2104-991d-4b58-a30e-ce84bb275534",Q="3044916a-7e5f-478b-9091-803233f27f91",Y="163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",ee="162724AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Ae="160649AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",te="797e0073-1f3f-46b1-8b1a-8cdad134d2b3",ne="160753AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",re="59c023dd-eed2-4b11-8c34-b88e9439db3c",ae="bc45edbd-11e7-4888-ad7d-4ec3dd8cdcf6",ie="0cd5d4cb-204e-419a-9dd7-1e18e939ce4c",oe="881fff34-b4a9-4d11-b2f5-a8a23a9f402b",ce="2a228c6a-1575-43d7-9d42-9b68d0629f46",le="bd86f7ee-1d5f-4f5d-aa0f-4680aa6e65cb",se="1246AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",de="160753AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",ue="570e9e42-4306-41dc-9bf8-634bbc70a524",fe="160753AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",he="59c023dd-eed2-4b11-8c34-b88e9439db3c",pe="36a3e671-9d60-4109-b41f-046f44f4b389",me="62ee5922-a229-48d3-a1da-875c1ffa9436",_e="52824cbe-0e4d-4c18-8179-80b5799f34ed",be="160753AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",ve="8742967d-8107-4cbb-a17e-9a8c7f624673",ge="390c2f21-c1c4-4246-94ca-a026157cd1db",ye="85fbdcc8-8dbc-40a9-b85f-5d1bfe1ab63d",we="573f93e2-12f6-483e-aa6e-14e9b76b311a",Se="4dd0ee63-805f-43e9-833c-6386ba97fdc1",xe="1436AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Ee="160753AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Ce="166102AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Re="85d3b4fe-c1a9-4e27-a86b-dcc1e30c8a93",ke="36db5123-0ad5-41c0-9037-625b46e0ceef",Ue="167006AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Te="167007AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",De="167070AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Le="167072AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",ze="160753AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",He="96adb28e-e417-43a3-8f7d-682f8af5e912",Ie="163724AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Pe="5497AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Ne="41af1931-184e-45f8-86ca-d42e0db0b8a1",Ve="163724AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Fe="86cc0cfe-bace-4969-94b6-d139f4971d13",je="1305AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Be="cb0a65a7-0587-477e-89b9-cf2fd144f1d4",Ke="163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Me="8a9809e9-8a0b-4e0e-b1f6-80b0cbbe361b",Ze="160108AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Oe="1272AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",$e="13abe5c9-6de2-4970-b348-36d352ee8eeb",qe="9641ead9-8821-4898-b633-a8e96c0933cf",We="746737c0-4201-4d7f-b580-816e36dc425a",Ge="cea67984-d790-4185-b7b4-67736810d365",Je="164400AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",Xe="79c1f50f-f77d-42e2-ad2a-d29304dde2fe"},137:(e,A,t)=>{"use strict";t.r(A),t.d(A,{default:()=>q});var n=t(7900),r=t.n(n),a=t(8590),i=t(1354),o=t.n(i),c=t(1583),l=t.n(c),s=t(3418),d=t.n(s),u=t(5993),f=t.n(u),h=t(4154),p=t.n(h),m=t(8141),_=t.n(m),b=t(2017),v=t.n(b),g={};g.styleTagTransform=_(),g.setAttributes=f(),g.insert=d().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=p(),o()(v(),g);const y=v()&&v().locals?v().locals:void 0;var w=t(6903),S=t(2742),x=t(906),E=t(4061),C=t(4642),R=t(5073),k=t(9312),U=t(1824),T=t(5877);function D(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=new Array(A);t<A;t++)n[t]=e[t];return n}function L(e,A){return function(e){if(Array.isArray(e))return e}(e)||function(e,A){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,a=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!A||a.length!==A);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==t.return||t.return()}finally{if(o)throw r}}return a}}(e,A)||function(e,A){if(e){if("string"==typeof e)return D(e,A);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?D(e,A):void 0}}(e,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(e){var A=e.patientUuid,t=e.encounterUuid,i=e.form,o=e.patientUrl,c=(0,w.useTranslation)().t,l=L((0,n.useState)((0,k.R3)(i.package,i.name)),2),s=l[0],d=(l[1],L((0,n.useState)(0),2)),u=d[0],f=d[1],h=function(){return f(u+1)},p=function(e){return e[0].toUpperCase()+e.substr(1)};return r().createElement(r().Fragment,null,t?r().createElement(a.PQB,{flipped:!0,className:y.flippedOverflowMenu},r().createElement(a.laM,{itemText:c("viewResult","View Result"),onClick:function(e){e.preventDefault(),(0,U.changeWorkspaceContext)(A),function(e){var A=arguments.length>3?arguments[3]:void 0,t="".concat(p(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add")," ")+((null==e?void 0:e.name)||(null==s?void 0:s.name));(0,S.HTC)(e||s,T.moduleName,t,"view",A,h)}((0,k.NL)("*",(0,k.R3)(i.package,i.name)),"*","view",t),(0,x.navigate)({to:o})}})):r().createElement(r().Fragment,null))};function H(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=new Array(A);t<A;t++)n[t]=e[t];return n}function I(e,A,t,n,r,a,i){try{var o=e[a](i),c=o.value}catch(e){return void t(e)}o.done?A(c):Promise.resolve(c).then(n,r)}function P(e){return function(){var A=this,t=arguments;return new Promise((function(n,r){var a=e.apply(A,t);function i(e){I(a,n,r,i,o,"next",e)}function o(e){I(a,n,r,i,o,"throw",e)}i(void 0)}))}}function N(e,A){return function(e){if(Array.isArray(e))return e}(e)||function(e,A){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,a=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!A||a.length!==A);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==t.return||t.return()}finally{if(o)throw r}}return a}}(e,A)||function(e,A){if(e){if("string"==typeof e)return H(e,A);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H(e,A):void 0}}(e,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V=function(e,A){var t,n,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=A.call(e,i)}catch(e){a=[6,e],n=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},F=function(e,A){return A.filter((function(A){return A.patientSearchName.toLowerCase().includes(e.toLowerCase())}))};const j=function(e){e.patientUuid;var A=(0,w.useTranslation)().t,t=N((0,n.useState)([]),2),i=t[0],o=t[1],c=N((0,n.useState)([]),2),l=c[0],s=c[1],d=N((0,n.useState)([]),2),u=d[0],f=d[1],h=N((0,n.useState)([]),2),p=h[0],m=h[1],_=N((0,n.useState)(null),2),b=_[0],v=_[1],g=N((0,n.useState)(!0),2),k=g[0],U=g[1],T=N((0,n.useState)(1),2),D=T[0],L=T[1],H=N((0,n.useState)(10),2),I=H[0],j=H[1],B=N((0,n.useState)(0),2),K=B[0],M=B[1],Z=N((0,n.useState)(0),2),O=Z[0],$=Z[1],q=[{key:"name",header:A("patientName","Patient Name"),isSortable:!0},{key:"gender",header:A("sex","Sex")},{key:"age",header:A("age","Age")},{key:"cd4Result",header:A("recentCd4","Recent CD4")},{key:"cd4ResultDate",header:A("recentCd4Date","Recent CD4 Date")},{key:"actions",header:A("actions","Actions")}];(0,n.useEffect)((function(){U(!0),(0,S.LqS)(O,I).then((function(e){var A=e.data;o(A.entry),M(A.total),U(!1)}))}),[D,I]),(0,n.useEffect)((function(){var e=[],A=!0,t=!1,n=void 0;try{for(var a,o=function(){var A,t,n,i=a.value,o=null===(A=l.find((function(e){return e.patientId===i.resource.id})))||void 0===A?void 0:A.cd4Result,c=null===(t=l.find((function(e){return e.patientId===i.resource.id})))||void 0===t?void 0:t.cd4ResultDate,s=null===(n=l.find((function(e){return e.patientId===i.resource.id})))||void 0===n?void 0:n.cd4EncounterUuid,d=r().createElement(z,{form:{package:"hiv",name:"cd4_lab_results"},patientUuid:i.resource.id,encounterUuid:s,patientUrl:G(i.resource.id)});e.push({id:i.resource.id,name:r().createElement(R.VK,null,r().createElement(R.rU,{style:{textDecoration:"inherit"},to:G(i.resource.id)},"".concat(i.resource.name[0].given.join(" ")," ").concat(i.resource.name[0].family))),gender:(0,C.Z)(i.resource.gender),age:(0,x.age)(i.resource.birthDate),cd4Result:o||"--",cd4ResultDate:c||"--",actions:d,patientSearchName:"".concat(i.resource.name[0].given.join(" ")," ").concat(i.resource.name[0].family)})},c=i[Symbol.iterator]();!(A=(a=c.next()).done);A=!0)o()}catch(e){t=!0,n=e}finally{try{A||null==c.return||c.return()}finally{if(t)throw n}}f(e)}),[i,l]),(0,n.useEffect)((function(){var e=i.map((function(e){return function(e){return J.apply(this,arguments)}(e.resource.id)}));Promise.all(e).then((function(e){s(e.map((function(e,A){return{cd4Result:e.result,cd4ResultDate:e.date,patientId:i[A].resource.id,cd4EncounterUuid:e.encounterUuid}})))}))}),[i]);var W=(0,n.useCallback)((function(e){v(e);var A=F(e,u);return m(A),!0}),[b]),G=function(e){return"/openmrs/spa/patient/".concat(e,"/chart/hts-summary")};function J(){return(J=P((function(e){var A,t,n,r,a,i;return V(this,(function(o){switch(o.label){case 0:return t={result:"--",date:"--",encounterUuid:""},n="encounterType=".concat(E.n_,"&patient=").concat(e),[4,(0,x.openmrsFetch)("/ws/rest/v1/encounter?".concat(n,"&v=").concat(S.Ib6))];case 1:return r=o.sent(),(null===(A=r.data.results)||void 0===A?void 0:A.length)>0&&(a=r.data.results.sort((function(e,A){return new Date(A.encounterDatetime).getTime()-new Date(e.encounterDatetime).getTime()})),i=a[0],t.result=(0,S.hFx)(i,E.t9),t.date=(0,S.hFx)(i,E.J4,!0),t.encounterUuid=i.uuid),[2,t]}}))}))).apply(this,arguments)}return r().createElement(r().Fragment,null,k?r().createElement(a.gqd,{rowCount:5}):u.length>0?r().createElement(r().Fragment,null,r().createElement("div",{className:y.searchBox},r().createElement(a.olm,{className:y.searchField,labelText:"Search",placeHolderText:"Search Client list",size:"sm",light:!0,onKeyDown:function(e){var A=e.target;return W(A.value)}})),r().createElement("div",{className:y.widgetContainer},r().createElement(S.Rk,{tableHeaders:q,tableRows:b?p:u}),r().createElement("div",{style:{width:"800px"}},r().createElement(a.tlE,{page:D,pageSize:I,pageSizes:[10,20,30,40,50],totalItems:K,onChange:function(e){var A=e.page,t=e.pageSize;v(null),L(A),$((A-1)*t),j(t)}})))):r().createElement(S.ubH,{displayText:A("cd4Results","CD4 Results"),headerTitle:""}))};function B(e,A){(null==A||A>e.length)&&(A=e.length);for(var t=0,n=new Array(A);t<A;t++)n[t]=e[t];return n}function K(e,A,t,n,r,a,i){try{var o=e[a](i),c=o.value}catch(e){return void t(e)}o.done?A(c):Promise.resolve(c).then(n,r)}function M(e){return function(){var A=this,t=arguments;return new Promise((function(n,r){var a=e.apply(A,t);function i(e){K(a,n,r,i,o,"next",e)}function o(e){K(a,n,r,i,o,"throw",e)}i(void 0)}))}}function Z(e,A){return function(e){if(Array.isArray(e))return e}(e)||function(e,A){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,a=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!A||a.length!==A);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==t.return||t.return()}finally{if(o)throw r}}return a}}(e,A)||function(e,A){if(e){if("string"==typeof e)return B(e,A);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?B(e,A):void 0}}(e,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(e,A){var t,n,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=A.call(e,i)}catch(e){a=[6,e],n=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};const $=function(){var e=(0,w.useTranslation)().t,A=Z((0,n.useState)([]),2),t=A[0],i=A[1],o=Z((0,n.useState)([]),2),c=o[0],l=o[1],s=Z((0,n.useState)([]),2),d=s[0],u=s[1],f=Z((0,n.useState)([]),2),h=f[0],p=f[1],m=Z((0,n.useState)(null),2),_=m[0],b=m[1],v=Z((0,n.useState)(!0),2),g=v[0],k=v[1],U=Z((0,n.useState)(1),2),T=U[0],D=U[1],L=Z((0,n.useState)(10),2),H=L[0],I=L[1],P=Z((0,n.useState)(0),2),N=P[0],V=P[1],j=Z((0,n.useState)(0),2),B=j[0],K=j[1],$=[{key:"name",header:e("patientName","Patient Name"),isSortable:!0},{key:"gender",header:e("sex","Sex")},{key:"age",header:e("age","Age")},{key:"viralLoadResult",header:e("recentVL","Recent VL")},{key:"viralLoadResultDate",header:e("recentVLDate","Recent VL Date")},{key:"actions",header:e("actions","Actions")}];(0,n.useEffect)((function(){k(!0),(0,S.LqS)(B,H).then((function(e){var A=e.data;i(A.entry),V(A.total),k(!1)}))}),[T,H]),(0,n.useEffect)((function(){var e=[],A=!0,n=!1,a=void 0;try{for(var i,o=function(){var A,t,n,a=i.value,o=null===(A=c.find((function(e){return e.patientId===a.resource.id})))||void 0===A?void 0:A.viralLoadResult,l=null===(t=c.find((function(e){return e.patientId===a.resource.id})))||void 0===t?void 0:t.viralLoadResultDate,s=null===(n=c.find((function(e){return e.patientId===a.resource.id})))||void 0===n?void 0:n.viralEncounterUuid,d=r().createElement(z,{form:{package:"hiv",name:"viral_load_results"},patientUuid:a.resource.id,encounterUuid:s,patientUrl:W(a.resource.id)});e.push({id:a.resource.id,name:r().createElement(R.VK,null,r().createElement(R.rU,{style:{textDecoration:"inherit"},to:W(a.resource.id)},"".concat(a.resource.name[0].given.join(" ")," ").concat(a.resource.name[0].family))),gender:(0,C.Z)(a.resource.gender),age:(0,x.age)(a.resource.birthDate),viralLoadResult:o||"--",viralLoadResultDate:l||"--",actions:d,patientSearchName:"".concat(a.resource.name[0].given.join(" ")," ").concat(a.resource.name[0].family)})},l=t[Symbol.iterator]();!(A=(i=l.next()).done);A=!0)o()}catch(e){n=!0,a=e}finally{try{A||null==l.return||l.return()}finally{if(n)throw a}}u(e)}),[t,c]),(0,n.useEffect)((function(){var e=t.map((function(e){return function(e){return G.apply(this,arguments)}(e.resource.id)}));Promise.all(e).then((function(e){l(e.map((function(e,A){return{viralLoadResult:e.result,viralLoadResultDate:e.date,patientId:t[A].resource.id,viralEncounterUuid:e.encounterUuid}})))}))}),[t]);var q=(0,n.useCallback)((function(e){b(e);var A=F(e,d);return p(A),!0}),[_]),W=function(e){return"/openmrs/spa/patient/".concat(e,"/chart/hts-summary")};function G(){return(G=M((function(e){var A,t,n,r,a,i;return O(this,(function(o){switch(o.label){case 0:return t={result:"--",date:"--",encounterUuid:""},n="encounterType=".concat(E.Pi,"&patient=").concat(e),[4,(0,x.openmrsFetch)("/ws/rest/v1/encounter?".concat(n,"&v=").concat(S.Ib6))];case 1:return r=o.sent(),(null===(A=r.data.results)||void 0===A?void 0:A.length)>0&&(a=r.data.results.sort((function(e,A){return new Date(A.encounterDatetime).getTime()-new Date(e.encounterDatetime).getTime()})),i=a[0],t.result=(0,S.hFx)(i,E.Z5),t.date=(0,S.hFx)(i,E.RG,!0),t.encounterUuid=i.uuid),[2,t]}}))}))).apply(this,arguments)}return r().createElement(r().Fragment,null,g?r().createElement(a.gqd,{rowCount:5}):d.length>0?r().createElement(r().Fragment,null,r().createElement("div",{className:y.searchBox},r().createElement(a.olm,{className:y.searchField,labelText:"Search",placeHolderText:"Search Client list",size:"sm",light:!0,onKeyDown:function(e){var A=e.target;return q(A.value)}})),r().createElement("div",{className:y.widgetContainer},r().createElement(S.Rk,{tableHeaders:$,tableRows:_?h:d}),r().createElement("div",{style:{width:"800px"}},r().createElement(a.tlE,{page:T,pageSize:H,pageSizes:[10,20,30,40,50],totalItems:N,onChange:function(e){var A=e.page,t=e.pageSize;b(null),D(A),K((A-1)*t),I(t)}})))):r().createElement(S.ubH,{displayText:e("viralLoadResults","Viral Load Results"),headerTitle:""}))},q=function(e){var A=e.patientUuid,t=(0,w.useTranslation)().t;return r().createElement(a.mQc,{type:"container",className:y.tabContainer},r().createElement(a.tdY,{contained:!0},r().createElement(a.OK9,null,t("cd4LabResults","CD4 Lab Results")),r().createElement(a.OK9,null,t("viralLoadResults","Viral Load Results"))),r().createElement(a.nPR,null,r().createElement(a.x45,null,r().createElement(j,{patientUuid:A})),r().createElement(a.x45,null,r().createElement($,{patientUuid:A}))))}}}]);