"use strict";(globalThis.webpackChunk_openmrs_esm_patient_banner_app=globalThis.webpackChunk_openmrs_esm_patient_banner_app||[]).push([[606],{6674:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-banner__patient-banner__container___ecRPF{border-top:.063rem solid #e0e0e0;border-bottom:.063rem solid #e0e0e0;background-color:#f4f4f4}.-esm-patient-banner__patient-banner__activePatientContainer___tskjN{background-color:#f4f4f4}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q{background-color:#393939}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__patientName___OL0dB{color:#f4f4f4}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__demographics___V1alp,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__row___t0GLQ,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__identifierTag___DGuqK,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__identifier___gGse_,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__contactDetails___uX5w3 .-esm-patient-banner__patient-banner__heading___Wphgj{color:#fff}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__toggleContactDetailsButton___HZ72I,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__toggleContactDetailsButton___HZ72I>svg,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q .-esm-patient-banner__patient-banner__actionsButtonText___r3Ahr{color:#78a9ff}.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q:focus,.-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q:hover{background-color:#262626}.-esm-patient-banner__patient-banner__overflowMenuContainer___FYrIB{margin:-0.75rem 0}.-esm-patient-banner__patient-banner__patientBanner___jpW_m{display:flex}.-esm-patient-banner__patient-banner__patientName___OL0dB{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin-right:.25rem}.-esm-patient-banner__patient-banner__patientAvatar___CxTCp{width:5rem;height:5rem;margin:1rem;border-radius:1px}.-esm-patient-banner__patient-banner__patientAvatarButton___JLA2C{cursor:pointer;border:none;padding:0px;background:none}.-esm-patient-banner__patient-banner__patientInfo___rn9Ty{width:100%}.-esm-patient-banner__patient-banner__demographics___V1alp{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;margin-top:.375rem}.-esm-patient-banner__patient-banner__row___t0GLQ{display:flex;flex-direction:row;justify-content:space-between;align-items:baseline}.-esm-patient-banner__patient-banner__patientNameRow___SJSwx{margin-top:.875rem}.-esm-patient-banner__patient-banner__flexRow___YJJkj{display:flex;flex-flow:row wrap;align-items:center}.-esm-patient-banner__patient-banner__identifiers___jRMNR{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#8d8d8d;display:flex;flex-wrap:wrap}.-esm-patient-banner__patient-banner__identifierTag___DGuqK{display:flex;align-items:center;margin-right:.75rem}.-esm-patient-banner__patient-banner__tag___xmTcg{margin:.25rem .25rem .25rem 0rem}.-esm-patient-banner__patient-banner__tooltipPadding___Cv7bZ{padding:.25rem}.-esm-patient-banner__patient-banner__tooltipSmallText___G1Y0F{font-size:80%}.-esm-patient-banner__patient-banner__actionsButtonText___r3Ahr{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#0f62fe}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/banner/patient-banner.scss","webpack://./../../node_modules/@carbon/colors/index.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,wDACE,gCAAA,CACA,mCAAA,CACA,wBDPM,CCUR,qEACE,wBDXM,CCcR,uEACE,wBCkCQ,CDhCR,iIACE,aDlBI,CCqBN,wrBACE,UDrBI,CCwBN,2aACE,aCXM,CDcR,0JACE,wBCoBM,CDhBV,oEACE,iBAAA,CAGF,4DACE,YAAA,CAGF,0DEgyBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CF9xBF,mBAAA,CAGF,4DACE,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CAGF,kEACE,cAAA,CACA,WAAA,CACA,WAAA,CACA,eAAA,CAGF,0DACE,UAAA,CAGF,2DEywBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CFvwBF,aD9DQ,CC+DR,kBAAA,CAGF,kDACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,oBAAA,CAGF,6DACE,kBAAA,CAGF,sDACE,YAAA,CACA,kBAAA,CACA,kBAAA,CAGF,0DEkvBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CFhvBF,aDvFM,CCwFN,YAAA,CACA,cAAA,CAGF,4DACE,YAAA,CACA,kBAAA,CACA,mBAAA,CAIF,kDACE,gCAAA,CAGF,6DACE,cAAA,CAGF,+DACE,aAAA,CAGF,gEEwtBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CFttBF,aD/Fe",sourceRoot:""}]),o.locals={container:"-esm-patient-banner__patient-banner__container___ecRPF",activePatientContainer:"-esm-patient-banner__patient-banner__activePatientContainer___tskjN",deceasedPatientContainer:"-esm-patient-banner__patient-banner__deceasedPatientContainer___C7l_Q",patientName:"-esm-patient-banner__patient-banner__patientName___OL0dB",demographics:"-esm-patient-banner__patient-banner__demographics___V1alp",row:"-esm-patient-banner__patient-banner__row___t0GLQ",identifierTag:"-esm-patient-banner__patient-banner__identifierTag___DGuqK",identifier:"-esm-patient-banner__patient-banner__identifier___gGse_",contactDetails:"-esm-patient-banner__patient-banner__contactDetails___uX5w3",heading:"-esm-patient-banner__patient-banner__heading___Wphgj",toggleContactDetailsButton:"-esm-patient-banner__patient-banner__toggleContactDetailsButton___HZ72I",actionsButtonText:"-esm-patient-banner__patient-banner__actionsButtonText___r3Ahr",overflowMenuContainer:"-esm-patient-banner__patient-banner__overflowMenuContainer___FYrIB",patientBanner:"-esm-patient-banner__patient-banner__patientBanner___jpW_m",patientAvatar:"-esm-patient-banner__patient-banner__patientAvatar___CxTCp",patientAvatarButton:"-esm-patient-banner__patient-banner__patientAvatarButton___JLA2C",patientInfo:"-esm-patient-banner__patient-banner__patientInfo___rn9Ty",patientNameRow:"-esm-patient-banner__patient-banner__patientNameRow___SJSwx",flexRow:"-esm-patient-banner__patient-banner__flexRow___YJJkj",identifiers:"-esm-patient-banner__patient-banner__identifiers___jRMNR",tag:"-esm-patient-banner__patient-banner__tag___xmTcg",tooltipPadding:"-esm-patient-banner__patient-banner__tooltipPadding___Cv7bZ",tooltipSmallText:"-esm-patient-banner__patient-banner__tooltipSmallText___G1Y0F"};const s=o},6649:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-banner__contact-details__contactDetails___WcOBT{color:#525252;width:100%;border-top:1px solid #e0e0e0}.-esm-patient-banner__contact-details__heading___Wn1cM{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-banner__contact-details__deceased___SxeyH .-esm-patient-banner__contact-details__contactDetails___WcOBT,.-esm-patient-banner__contact-details__deceased___SxeyH .-esm-patient-banner__contact-details__heading___Wn1cM,.-esm-patient-banner__contact-details__deceased___SxeyH .-esm-patient-banner__contact-details__row___TsP8B,.-esm-patient-banner__contact-details__deceased___SxeyH .-esm-patient-banner__contact-details__row___TsP8B>.-esm-patient-banner__contact-details__col___K6cAe{color:#fff}.-esm-patient-banner__contact-details__row___TsP8B{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);display:flex}.-esm-patient-banner__contact-details__row___TsP8B:first-child{border-bottom:1px solid #e0e0e0}.-esm-patient-banner__contact-details__row___TsP8B>.-esm-patient-banner__contact-details__col___K6cAe{flex:1;padding:1rem 1rem}.-esm-patient-banner__contact-details__row___TsP8B>.-esm-patient-banner__contact-details__col___K6cAe:nth-of-type(2n + 1){border-right:1px solid #e0e0e0}.-esm-patient-banner__contact-details__row___TsP8B li{margin:.5rem 0}.-esm-patient-banner__contact-details__relationship___jewSg{display:flex;flex-flow:row nowrap}.-esm-patient-banner__contact-details__relationship___jewSg div{flex:1 1}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/contact-details/contact-details.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,8DACE,aAAA,CACA,UAAA,CACA,4BAAA,CAGF,uDCg0BI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CD9zBF,aDPQ,CCWR,8eACE,UDhBI,CCoBR,mDCqzBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDnzBF,YAAA,CAEA,+DACE,+BAAA,CAIJ,sGACE,MAAA,CACA,iBAAA,CAEA,0HACE,8BAAA,CAIJ,sDACE,cAAA,CAGF,4DACE,YAAA,CACA,oBAAA,CAGF,gEACE,QAAA",sourceRoot:""}]),o.locals={contactDetails:"-esm-patient-banner__contact-details__contactDetails___WcOBT",heading:"-esm-patient-banner__contact-details__heading___Wn1cM",deceased:"-esm-patient-banner__contact-details__deceased___SxeyH",row:"-esm-patient-banner__contact-details__row___TsP8B",col:"-esm-patient-banner__contact-details__col___K6cAe",relationship:"-esm-patient-banner__contact-details__relationship___jewSg"};const s=o},8333:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(272),r=n.n(a),i=n(2609),o=n.n(i)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-banner__overflow-menu__container___dRXW5{margin-top:-1.25rem;margin-left:-1.5rem;width:auto;height:auto}.-esm-patient-banner__overflow-menu__menu___SHQYw{display:none;top:3.125rem;min-width:initial;left:auto;right:0;background-color:#f4f4f4;margin-right:.2rem;box-shadow:0 6px 6px rgba(0,0,0,.3)}.-esm-patient-banner__overflow-menu__show___hAAhj{display:block}.-esm-patient-banner__overflow-menu__overflowMenuButton___meRmh{width:auto;height:auto;padding:.875rem 1rem;color:#0f62fe}.-esm-patient-banner__overflow-menu__overflowMenuButton___meRmh:hover{background-color:#e8e8e8}.-esm-patient-banner__overflow-menu__deceased___MBoXd{color:#78a9ff}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/ui-components/overflow-menu.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,uDACE,mBAAA,CACA,mBAAA,CACA,UAAA,CACA,WAAA,CAGF,kDACE,YAAA,CACA,YAAA,CACA,iBAAA,CACA,SAAA,CACA,OAAA,CACA,wBDhBM,CCiBN,kBAAA,CACA,mCAAA,CAGF,kDACE,aAAA,CAGF,gEACE,UAAA,CACA,WAAA,CACA,oBAAA,CACA,aCZQ,CDcR,sEACE,wBCsIY,CDlIhB,sDACE,aCtBQ",sourceRoot:""}]),o.locals={container:"-esm-patient-banner__overflow-menu__container___dRXW5",menu:"-esm-patient-banner__overflow-menu__menu___SHQYw",show:"-esm-patient-banner__overflow-menu__show___hAAhj",overflowMenuButton:"-esm-patient-banner__overflow-menu__overflowMenuButton___meRmh",deceased:"-esm-patient-banner__overflow-menu__deceased___MBoXd"};const s=o},8606:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var a=n(268),r=n.n(a),i=n(4924),o=n(5532),s=n(8043),_=n(2074),l=n(906),c=n(3255);var d=n(2303),A=n(1354),u=n.n(A),p=n(1583),m=n.n(p),b=n(7378),C=n.n(b),f=n(5993),g=n.n(f),v=n(4154),h=n.n(v),w=n(8141),y=n.n(w),E=n(6649),B={};B.styleTagTransform=y(),B.setAttributes=g(),B.insert=C().bind(null,"head"),B.domAPI=m(),B.insertStyleElement=h(),u()(E.Z,B);const D=E.Z&&E.Z.locals?E.Z.locals:void 0;function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=function(e){var t=e.address,n=(0,i.useTranslation)().t,a=(0,l.useConfig)().customAddressLabel,o=function(e){return e.split("#")[1]};return r().createElement(r().Fragment,null,r().createElement("p",{className:D.heading},n("address","Address")),r().createElement("ul",null,t?r().createElement(r().Fragment,null,Object.entries(t).filter((function(e){var t=T(e,1)[0];return!["use","id"].some((function(e){return e===t}))})).map((function(e){var i,s=T(e,2),_=s[0],l=s[1];return"extension"===_?null===(i=null==t?void 0:t.extension[0])||void 0===i?void 0:i.extension.map((function(e,t){return r().createElement("li",null,n(a?a[o(e.url)]:o(e.url)),":"," ",e.valueString)})):r().createElement("li",null,n(a?a[_]:_),": ",l)}))):"--"))},N=function(e){var t=e.telecom,n=e.patientUuid,a=(0,i.useTranslation)().t,s=(null==t?void 0:t.length)?t[0].value:"--",_=function(e){var t=(0,l.useConfig)().contactAttributeType,n=function(e){var t,n,a,r,i,o=(0,d.Z)("/ws/rest/v1/patient/".concat(e,"?v=").concat("custom:(uuid,display,identifiers:(identifier,uuid,preferred,location:(uuid,name),identifierType:(uuid,name,format,formatDescription,validator)),person:(uuid,display,gender,birthdate,dead,age,deathDate,birthdateEstimated,causeOfDeath,preferredName:(uuid,preferred,givenName,middleName,familyName),attributes,preferredAddress:(uuid,preferred,address1,address2,cityVillage,longitude,stateProvince,latitude,country,postalCode,countyDistrict,address3,address4,address5,address6,address7)))"),l.openmrsFetch),s=o.data,_=o.error;return{isLoading:o.isLoading,attributes:null!==(r=null==s||null===(t=s.data)||void 0===t||null===(n=t.person)||void 0===n?void 0:n.attributes)&&void 0!==r?r:[],person:null!==(i=null==s||null===(a=s.data)||void 0===a?void 0:a.person)&&void 0!==i?i:null,error:_}}(e),a=n.attributes,r=n.isLoading,i=null==a?void 0:a.filter((function(e){var n=e.attributeType;return null==t?void 0:t.some((function(e){return(null==n?void 0:n.uuid)===e}))}));return{contactAttributes:null!=i?i:[],isLoading:r}}(n),c=_.isLoading,A=_.contactAttributes;return r().createElement(r().Fragment,null,r().createElement("p",{className:D.heading},a("contactDetails","Contact Details")),r().createElement("ul",null,r().createElement("li",null,s),c?r().createElement(o.lSo,{description:"".concat(a("loading","Loading")," ...")}):null==A?void 0:A.map((function(e){var t=e.attributeType,n=e.value,a=e.uuid;return r().createElement("li",{key:a},t.display," : ",n)}))))},F=function(e){var t=e.patientId,n=(0,i.useTranslation)().t,a=function(e){var t,n,a=(0,c.ZP)("/ws/rest/v1/relationship?v=".concat("custom:(display,uuid,personA:(uuid,display,person:(age,display)),personB:(uuid,display,person:(age,display)),relationshipType:(uuid,display,description,aIsToB,bIsToA))","&person=").concat(e),l.openmrsFetch),r=a.data,i=a.error,o=a.isLoading,s=a.isValidating,_=(null==r||null===(t=r.data)||void 0===t||null===(n=t.results)||void 0===n?void 0:n.length)?function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var _=o.value;e===_.personA.uuid?n.push({uuid:_.uuid,display:_.personB.person.display,relativeAge:_.personB.person.age,relativeUuid:_.personB.uuid,relationshipType:_.relationshipType.bIsToA}):n.push({uuid:_.uuid,display:_.personA.person.display,relativeAge:_.personA.person.age,relativeUuid:_.personA.uuid,relationshipType:_.relationshipType.aIsToB})}}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(e,r.data.results):null;return{data:r?_:null,isError:i,isLoading:o,isValidating:s}}(t),s=a.data,_=a.isLoading;return r().createElement(r().Fragment,null,r().createElement("p",{className:D.heading},n("relationships","Relationships")),r().createElement(r().Fragment,null,_?r().createElement(o.lSo,{description:"Loading...",role:"progressbar"}):(null==s?void 0:s.length)?r().createElement("ul",null,s.map((function(e){return r().createElement("li",{key:e.uuid,className:D.relationship},r().createElement("div",null,e.display),r().createElement("div",null,e.relationshipType),r().createElement("div",null,"".concat(e.relativeAge," ").concat(1===e.relativeAge?"yr":"yrs")))}))):r().createElement("p",null,"--")))};const S=function(e){var t=e.address,n=e.telecom,a=e.patientId,i=e.deceased,o=t?t.find((function(e){return"home"===e.use})):void 0;return r().createElement("div",{className:"".concat(D.contactDetails," ").concat(i?D.deceased:"")},r().createElement("div",{className:D.row},r().createElement("div",{className:D.col},r().createElement(k,{address:o})),r().createElement("div",{className:D.col},r().createElement(N,{telecom:n,patientUuid:a}))),r().createElement("div",{className:D.row},r().createElement("div",{className:D.col},r().createElement(F,{patientId:a})),r().createElement("div",{className:D.col})))};var I=n(8333),P={};P.styleTagTransform=y(),P.setAttributes=g(),P.insert=C().bind(null,"head"),P.domAPI=m(),P.insertStyleElement=h(),u()(I.Z,P);const M=I.Z&&I.Z.locals?I.Z.locals:void 0;function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const G=function(e){var t,n,i=e.dropDownMenu,o=e.menuTitle,s=e.children,_=e.deceased,l=(t=(0,a.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],d=l[1],A=(0,a.useRef)(null);(0,a.useEffect)((function(){i||d((function(e){return e})),d((function(){return!1}))}),[i]);var u=(0,a.useCallback)((function(){return d((function(e){return!e}))}),[]);return(0,a.useEffect)((function(){var e=function(e){A.current&&!A.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[A]),r().createElement("div",{"data-overflow-menu":!0,className:"cds--overflow-menu ".concat(M.container),ref:A},r().createElement("button",{className:"cds--btn cds--btn--ghost cds--overflow-menu__trigger ".concat(c&&"cds--overflow-menu--open"," ").concat(_&&M.deceased," ").concat(M.overflowMenuButton),"aria-haspopup":"true","aria-expanded":c,id:"custom-actions-overflow-menu-trigger","aria-controls":"custom-actions-overflow-menu",onClick:u},o),r().createElement("div",{className:"cds--overflow-menu-options cds--overflow-menu--flip ".concat(M.menu," ").concat(c&&M.show),tabIndex:0,"data-floating-menu-direction":"bottom",role:"menu","aria-labelledby":"custom-actions-overflow-menu-trigger",id:"custom-actions-overflow-menu"},r().createElement("ul",{className:"cds--overflow-menu-options__content"},s),r().createElement("span",null)))};var j=n(6674),Q={};Q.styleTagTransform=y(),Q.setAttributes=g(),Q.insert=C().bind(null,"head"),Q.domAPI=m(),Q.insertStyleElement=h(),u()(j.Z,Q);const L=j.Z&&j.Z.locals?j.Z.locals:void 0;function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},z.apply(this,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const U=function(e){var t,n,c,d,A,u,p,m,b=e.patient,C=e.patientUuid,f=e.onClick,g=e.onTransition,v=e.hideActionsOverflow,h=(0,l.useConfig)().excludePatientIdentifierCodeTypes,w=(0,i.useTranslation)().t,y=r().useRef(null),E=r().useMemo((function(){return{patientUuid:C,onClick:f,onTransition:g}}),[C,f,g]),B="".concat(null==b||null===(t=b.name)||void 0===t||null===(n=t[0])||void 0===n||null===(c=n.given)||void 0===c?void 0:c.join(" ")," ").concat(null==b||null===(d=b.name)||void 0===d?void 0:d[0].family),D=r().useMemo((function(){return{patientUuid:C,patientName:B}}),[C,B]),x=O(r().useState(!1),2),T=x[0],k=x[1],N=(0,a.useCallback)((function(){k((function(e){return!e}))}),[]),F=Boolean(null==b?void 0:b.deceasedDateTime),I=r().createElement("div",{className:L.patientAvatar,role:"img"},r().createElement(l.ExtensionSlot,{extensionSlotName:"patient-photo-slot",state:D})),P=(0,a.useCallback)((function(e){f&&(!(null==y?void 0:y.current)||!(null==y?void 0:y.current.contains(e.target)))&&f(C)}),[f,C]),M=O((0,a.useState)(!1),2),R=M[0],j=M[1],Q=(0,a.useCallback)((function(){j((function(e){return!e}))}),[]),Z=null!==(u=null==b||null===(A=b.identifier)||void 0===A?void 0:A.filter((function(e){return!(null==h?void 0:h.uuids.includes(e.type.coding[0].code))})))&&void 0!==u?u:[];return r().createElement("div",{className:"".concat(L.container," ").concat(F?L.deceasedPatientContainer:L.activePatientContainer),role:"banner"},r().createElement("div",{onClick:P,tabIndex:0,role:"button",className:"".concat(L.patientBanner," ").concat(f&&L.patientAvatarButton)},I,r().createElement("div",{className:L.patientInfo},r().createElement("div",{className:"".concat(L.row," ").concat(L.patientNameRow)},r().createElement("div",{className:L.flexRow},r().createElement("span",{className:L.patientName},B),r().createElement(l.ExtensionSlot,{extensionSlotName:"patient-banner-tags-slot",state:{patientUuid:C,patient:b},className:L.flexRow})),!v&&r().createElement("div",{className:L.overflowMenuContainer,ref:y},r().createElement(G,{deceased:F,menuTitle:r().createElement(r().Fragment,null,r().createElement("span",{className:L.actionsButtonText},w("actions","Actions"))," ",r().createElement(s.r4,{size:16,style:{marginLeft:"0.5rem",fill:"#78A9FF"}})),dropDownMenu:R},r().createElement(l.ExtensionSlot,{onClick:Q,extensionSlotName:"patient-actions-slot",key:"patient-actions-slot",className:L.overflowMenuItemList,state:E})))),r().createElement("div",{className:L.demographics},r().createElement("span",null,function(e){switch(e){case"male":return w("male","Male");case"female":return w("female","Female");case"other":return w("other","Other");case"unknown":return w("unknown","Unknown");default:return e}}(b.gender))," · ",r().createElement("span",null,(0,l.age)(b.birthDate))," ·"," ",r().createElement("span",null,(0,l.formatDate)((0,l.parseDate)(b.birthDate),{mode:"wide",time:!1}))),r().createElement("div",{className:L.row},r().createElement("div",{className:L.identifiers},(null==Z?void 0:Z.length)?Z.map((function(e){var t=e.value,n=e.type;return r().createElement("span",{key:t,className:L.identifierTag},r().createElement(o.Vp9,{className:L.tag,type:"gray",title:n.text},n.text),t)})):""),r().createElement(o.zxk,{className:L.toggleContactDetailsButton,kind:"ghost",renderIcon:function(e){return T?r().createElement(_.Kh,z({size:16},e)):r().createElement(_._M,z({size:16},e))},iconDescription:"Toggle contact details",onClick:N,style:{marginTop:"-0.25rem"}},T?w("hideDetails","Hide details"):w("showDetails","Show details"))))),T&&r().createElement(S,{address:null!==(p=null==b?void 0:b.address)&&void 0!==p?p:[],telecom:null!==(m=null==b?void 0:b.telecom)&&void 0!==m?m:[],patientId:null==b?void 0:b.id,deceased:F}))}}}]);